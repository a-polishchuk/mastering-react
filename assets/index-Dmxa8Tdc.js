const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-VrasEZWn.js","assets/vendor-D9SnsUke.js","assets/queryClient-BMns5pg5.js","assets/Background-DpH6RoR2.js","assets/Background-Bht8v-5r.css","assets/HeavyComponent-CsP8W3EU.js","assets/index-Bx9pieK7.js","assets/CheckboxGrid-CyL2oNGn.js","assets/useAutoGeneration-BepZI-7A.js","assets/index-DQ-3H5wx.css","assets/index-Ct_nvuTB.js","assets/DivGrid-Bg0nybF0.js","assets/DivGrid-CNRZoXDL.css","assets/index-DtVCKthY.js","assets/index-Dn5lSFH-.js","assets/UserContext-C9XI_Yoq.js","assets/UserContext-CVKpP2ra.css","assets/index-Bh3nkTuZ.css","assets/index-uUWXVZ-q.js","assets/index-BkTAffq7.css"])))=>i.map(i=>d[i]);
var Ps=t=>{throw TypeError(t)};var Lt=(t,s,n)=>s.has(t)||Ps("Cannot "+n);var d=(t,s,n)=>(Lt(t,s,"read from private field"),n?n.call(t):s.get(t)),N=(t,s,n)=>s.has(t)?Ps("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),y=(t,s,n,r)=>(Lt(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),w=(t,s,n)=>(Lt(t,s,"access private method"),n);import{j as e,u as kt,r as a,N as ue,a as Zr,O as tr,B as ei,R as sr,b as q,c as It,d as ti,m as si,e as ni,t as ri,f as nr,g as rr,L as Ue,h as ii}from"./vendor-D9SnsUke.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function G(...t){return t.filter(s=>typeof s=="string"&&s).join(" ")}const oi="_button_15qp1_1",ci={button:oi};function p({text:t,className:s,...n}){return e.jsx("button",{className:G(ci.button,s),...n,children:t})}const ai="_button_16o6n_1",li={button:ai};function Qe({emoji:t,onClick:s,disabled:n,tooltip:r}){return e.jsx("button",{className:li.button,onClick:s,disabled:n,title:r,children:t})}function ir(){return e.jsx("div",{className:"flex1"})}const ui="_root_t4dgc_1",di="_header_t4dgc_7",hi="_title_t4dgc_12",xi="_content_t4dgc_17",vt={root:ui,header:di,title:hi,content:xi};function j(t){const{title:s,subtitle:n,children:r,rerender:i,contentClassName:o}=t,c=kt(),l=()=>c("/");return e.jsxs("div",{className:vt.root,children:[e.jsxs("div",{className:vt.header,children:[e.jsxs("div",{className:vt.title,children:[e.jsx("h2",{children:s}),e.jsx(ir,{}),i&&e.jsx(Qe,{emoji:"üîÑ",tooltip:"RErender",onClick:i}),e.jsx(Qe,{emoji:"‚ùå",tooltip:"Close",onClick:l})]}),e.jsx("h3",{children:n})]}),e.jsx("div",{className:G(vt.content,o),children:r})]})}function Ut(){const s=Math.round(100+Math.random()*100).toString(16);return s.length<2?"0"+s:s}function pe(){const t=Ut(),s=Ut(),n=Ut();return`#${t}${s}${n}`}const fi="_coloredBlock_16bth_1",mi={coloredBlock:fi};function D({children:t,style:s,onClick:n}){const r={backgroundColor:pe(),...s};return e.jsx("div",{"data-testid":"colored-block",className:mi.coloredBlock,style:r,onClick:n,children:t})}const ji="_flexRow_1qj5y_1",pi={flexRow:ji};function Mt({children:t}){return e.jsx("div",{className:pi.flexRow,children:t})}const Ei="_label_1qrkv_1",gi={label:Ei};function Hs({text:t,minWidth:s=150}){return e.jsx("div",{className:gi.label,style:{minWidth:s},children:t})}const vi="_loadingContainer_vqayt_8",Si="_loadingSpinner_vqayt_19",Bs={loadingContainer:vi,loadingSpinner:Si};function wt(){return e.jsx("div",{className:Bs.loadingContainer,children:e.jsx("div",{className:Bs.loadingSpinner,children:"‚åõ"})})}const Vs=20,Ft=new Map;function k(t,s){const n=Ft.get(t)??pe();Ft.has(t)||Ft.set(t,n);const r=Vs>t.length?" ".repeat(Vs-t.length):" ",i=`%c ${t} %c${r}${s}`,o=`
    background-color: ${n}; 
    border: 1px solid #0004;
    text-shadow: 1px 1px #0008;
    border-radius: 8px;
    color: white;
  `;console.log(i,o,"")}function ie(t){k(t,"üîÑ Rendering"),a.useEffect(()=>(k(t,"‚úÖ Mounted"),()=>{k(t,"‚õîÔ∏è Unmounting")}),[t])}function Ze({tag:t,children:s}){return ie(t),e.jsx(e.Fragment,{children:s})}const yi="_navLink_2rjbr_1",Ci="_navLinkActive_2rjbr_5",_i="_chapter_2rjbr_11",bi="_emoji_2rjbr_22",St={navLink:yi,navLinkActive:Ci,chapter:_i,emoji:bi};function De(t,s){return function(){const r=a.useContext(t);if(r===void 0){const i=Ti(s);throw new Error(`this component must be used within a ${i}`)}return r}}function Ti(t){return typeof t=="string"?t:t.name||t.displayName||"provider"}const or=a.createContext(void 0),Ri=De(or,"MasterDetailProvider");function f({emoji:t,title:s,path:n,element:r}){const{addRoute:i}=Ri(),o=n.endsWith("/*")?n.slice(0,-2):n;return a.useEffect(()=>{r&&i({path:n,element:r})},[i,r,n]),e.jsx(ue,{to:o,className:({isActive:c})=>c?St.navLinkActive:St.navLink,children:e.jsxs("div",{className:St.chapter,children:[e.jsx("div",{className:St.emoji,children:t}),s]})})}const Ni="modulepreload",ki=function(t){return"/mastering-react/"+t},zs={},Ee=function(s,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=ki(u),u in zs)return;zs[u]=!0;const h=u.endsWith(".css"),v=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Ni,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((E,g)=>{m.addEventListener("load",E),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return i.then(c=>{for(const l of c||[])l.status==="rejected"&&o(l.reason);return s().catch(o)})};var _s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},we=typeof window>"u"||"Deno"in globalThis;function dt(){}function lf(t,s){return typeof t=="function"?t(s):t}function os(t){return typeof t=="number"&&t>=0&&t!==1/0}function cr(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Be(t,s){return typeof t=="function"?t(s):t}function X(t,s){return typeof t=="function"?t(s):t}function uf(t,s){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:c,stale:l}=t;if(c){if(r){if(s.queryHash!==Ii(c,s.options))return!1}else if(!bs(s.queryKey,c))return!1}if(n!=="all"){const u=s.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||i&&i!==s.state.fetchStatus||o&&!o(s))}function df(t,s){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!s.options.mutationKey)return!1;if(n){if(cs(s.options.mutationKey)!==cs(o))return!1}else if(!bs(s.options.mutationKey,o))return!1}return!(r&&s.state.status!==r||i&&!i(s))}function Ii(t,s){return((s==null?void 0:s.queryKeyHashFn)||cs)(t)}function cs(t){return JSON.stringify(t,(s,n)=>ls(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bs(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>bs(t[n],s[n])):!1}function ar(t,s){if(t===s)return t;const n=Gs(t)&&Gs(s);if(n||ls(t)&&ls(s)){const r=n?t:Object.keys(t),i=r.length,o=n?s:Object.keys(s),c=o.length,l=n?[]:{},u=new Set(r);let h=0;for(let v=0;v<c;v++){const m=n?v:o[v];(!n&&u.has(m)||n)&&t[m]===void 0&&s[m]===void 0?(l[m]=void 0,h++):(l[m]=ar(t[m],s[m]),l[m]===t[m]&&t[m]!==void 0&&h++)}return i===c&&h===i?t:l}return s}function as(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}function Gs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ls(t){if(!Ws(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!Ws(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ws(t){return Object.prototype.toString.call(t)==="[object Object]"}function wi(t){return new Promise(s=>{setTimeout(s,t)})}function us(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?ar(t,s):s}function hf(t){return t}function xf(t,s,n=0){const r=[...t,s];return n&&r.length>n?r.slice(1):r}function ff(t,s,n=0){const r=[s,...t];return n&&r.length>n?r.slice(0,-1):r}var lr=Symbol();function Ai(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===lr?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Oi(t,s){return typeof t=="function"?t(...s):!!t}var Se,he,ze,qn,Di=(qn=class extends _s{constructor(){super();N(this,Se);N(this,he);N(this,ze);y(this,ze,s=>{if(!we&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){d(this,he)||this.setEventListener(d(this,ze))}onUnsubscribe(){var s;this.hasListeners()||((s=d(this,he))==null||s.call(this),y(this,he,void 0))}setEventListener(s){var n;y(this,ze,s),(n=d(this,he))==null||n.call(this),y(this,he,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){d(this,Se)!==s&&(y(this,Se,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof d(this,Se)=="boolean"?d(this,Se):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Se=new WeakMap,he=new WeakMap,ze=new WeakMap,qn),ur=new Di,Ge,xe,We,Xn,Li=(Xn=class extends _s{constructor(){super();N(this,Ge,!0);N(this,xe);N(this,We);y(this,We,s=>{if(!we&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){d(this,xe)||this.setEventListener(d(this,We))}onUnsubscribe(){var s;this.hasListeners()||((s=d(this,xe))==null||s.call(this),y(this,xe,void 0))}setEventListener(s){var n;y(this,We,s),(n=d(this,xe))==null||n.call(this),y(this,xe,s(this.setOnline.bind(this)))}setOnline(s){d(this,Ge)!==s&&(y(this,Ge,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return d(this,Ge)}},Ge=new WeakMap,xe=new WeakMap,We=new WeakMap,Xn),dr=new Li;function ds(){let t,s;const n=new Promise((i,o)=>{t=i,s=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),s(i)},n}function Ui(t){return Math.min(1e3*2**t,3e4)}function hr(t){return(t??"online")==="online"?dr.isOnline():!0}var xr=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $t(t){return t instanceof xr}function Mi(t){let s=!1,n=0,r=!1,i;const o=ds(),c=_=>{var b;r||(E(new xr(_)),(b=t.abort)==null||b.call(t))},l=()=>{s=!0},u=()=>{s=!1},h=()=>ur.isFocused()&&(t.networkMode==="always"||dr.isOnline())&&t.canRun(),v=()=>hr(t.networkMode)&&t.canRun(),m=_=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,_),i==null||i(),o.resolve(_))},E=_=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,_),i==null||i(),o.reject(_))},g=()=>new Promise(_=>{var b;i=L=>{(r||h())&&_(L)},(b=t.onPause)==null||b.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),C=()=>{if(r)return;let _;const b=n===0?t.initialPromise:void 0;try{_=b??t.fn()}catch(L){_=Promise.reject(L)}Promise.resolve(_).then(m).catch(L=>{var it;if(r)return;const Z=t.retry??(we?0:3),ee=t.retryDelay??Ui,rt=typeof ee=="function"?ee(n,L):ee,pt=Z===!0||typeof Z=="number"&&n<Z||typeof Z=="function"&&Z(n,L);if(s||!pt){E(L);return}n++,(it=t.onFail)==null||it.call(t,n,L),wi(rt).then(()=>h()?void 0:g()).then(()=>{s?E(L):C()})})};return{promise:o,cancel:c,continue:()=>(i==null||i(),o),cancelRetry:l,continueRetry:u,canStart:v,start:()=>(v()?C():g().then(C),o)}}var Fi=t=>setTimeout(t,0);function $i(){let t=[],s=0,n=l=>{l()},r=l=>{l()},i=Fi;const o=l=>{s?t.push(l):i(()=>{n(l)})},c=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;s++;try{u=l()}finally{s--,s||c()}return u},batchCalls:l=>(...u)=>{o(()=>{l(...u)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ts=$i(),ye,Qn,Pi=(Qn=class{constructor(){N(this,ye)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),os(this.gcTime)&&y(this,ye,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(we?1/0:5*60*1e3))}clearGcTimeout(){d(this,ye)&&(clearTimeout(d(this,ye)),y(this,ye,void 0))}},ye=new WeakMap,Qn),Ke,Ce,J,_e,$,ft,be,te,ce,Zn,mf=(Zn=class extends Pi{constructor(s){super();N(this,te);N(this,Ke);N(this,Ce);N(this,J);N(this,_e);N(this,$);N(this,ft);N(this,be);y(this,be,!1),y(this,ft,s.defaultOptions),this.setOptions(s.options),this.observers=[],y(this,_e,s.client),y(this,J,d(this,_e).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,y(this,Ke,Hi(this.options)),this.state=s.state??d(this,Ke),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=d(this,$))==null?void 0:s.promise}setOptions(s){this.options={...d(this,ft),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,J).remove(this)}setData(s,n){const r=us(this.state.data,s,this.options);return w(this,te,ce).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(s,n){w(this,te,ce).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var r,i;const n=(r=d(this,$))==null?void 0:r.promise;return(i=d(this,$))==null||i.cancel(s),n?n.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,Ke))}isActive(){return this.observers.some(s=>X(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Be(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!cr(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=d(this,$))==null||n.continue()}onOnline(){var n;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=d(this,$))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),d(this,J).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(d(this,$)&&(d(this,be)?d(this,$).cancel({revert:!0}):d(this,$).cancelRetry()),this.scheduleGc()),d(this,J).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||w(this,te,ce).call(this,{type:"invalidate"})}fetch(s,n){var h,v,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(d(this,$))return d(this,$).continueRetry(),d(this,$).promise}if(s&&this.setOptions(s),!this.options.queryFn){const E=this.observers.find(g=>g.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,i=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(y(this,be,!0),r.signal)})},o=()=>{const E=Ai(this.options,n),C=(()=>{const _={client:d(this,_e),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return y(this,be,!1),this.options.persister?this.options.persister(E,C,this):E(C)},l=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:d(this,_e),state:this.state,fetchFn:o};return i(E),E})();(h=this.options.behavior)==null||h.onFetch(l,this),y(this,Ce,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=l.fetchOptions)==null?void 0:v.meta))&&w(this,te,ce).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=E=>{var g,C,_,b;$t(E)&&E.silent||w(this,te,ce).call(this,{type:"error",error:E}),$t(E)||((C=(g=d(this,J).config).onError)==null||C.call(g,E,this),(b=(_=d(this,J).config).onSettled)==null||b.call(_,this.state.data,E,this)),this.scheduleGc()};return y(this,$,Mi({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:E=>{var g,C,_,b;if(E===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(E)}catch(L){u(L);return}(C=(g=d(this,J).config).onSuccess)==null||C.call(g,E,this),(b=(_=d(this,J).config).onSettled)==null||b.call(_,E,this.state.error,this),this.scheduleGc()},onError:u,onFail:(E,g)=>{w(this,te,ce).call(this,{type:"failed",failureCount:E,error:g})},onPause:()=>{w(this,te,ce).call(this,{type:"pause"})},onContinue:()=>{w(this,te,ce).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),d(this,$).start()}},Ke=new WeakMap,Ce=new WeakMap,J=new WeakMap,_e=new WeakMap,$=new WeakMap,ft=new WeakMap,be=new WeakMap,te=new WeakSet,ce=function(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fr(r.data,this.options),fetchMeta:s.meta??null};case"success":return y(this,Ce,void 0),{...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=s.error;return $t(i)&&i.revert&&d(this,Ce)?{...d(this,Ce),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),Ts.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),d(this,J).notify({query:this,type:"updated",action:s})})},Zn);function fr(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hr(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Hi(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var z,T,mt,P,Te,Ye,fe,me,jt,Je,qe,Re,Ne,je,Xe,I,lt,hs,xs,fs,ms,js,ps,Es,mr,er,Bi=(er=class extends _s{constructor(s,n){super();N(this,I);N(this,z);N(this,T);N(this,mt);N(this,P);N(this,Te);N(this,Ye);N(this,fe);N(this,me);N(this,jt);N(this,Je);N(this,qe);N(this,Re);N(this,Ne);N(this,je);N(this,Xe,new Set);this.options=n,y(this,z,s),y(this,me,null),y(this,fe,ds()),this.options.experimental_prefetchInRender||d(this,fe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,T).addObserver(this),Ks(d(this,T),this.options)?w(this,I,lt).call(this):this.updateResult(),w(this,I,ms).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gs(d(this,T),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gs(d(this,T),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,w(this,I,js).call(this),w(this,I,ps).call(this),d(this,T).removeObserver(this)}setOptions(s){const n=this.options,r=d(this,T);if(this.options=d(this,z).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,d(this,T))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");w(this,I,Es).call(this),d(this,T).setOptions(this.options),n._defaulted&&!as(this.options,n)&&d(this,z).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,T),observer:this});const i=this.hasListeners();i&&Ys(d(this,T),r,this.options,n)&&w(this,I,lt).call(this),this.updateResult(),i&&(d(this,T)!==r||X(this.options.enabled,d(this,T))!==X(n.enabled,d(this,T))||Be(this.options.staleTime,d(this,T))!==Be(n.staleTime,d(this,T)))&&w(this,I,hs).call(this);const o=w(this,I,xs).call(this);i&&(d(this,T)!==r||X(this.options.enabled,d(this,T))!==X(n.enabled,d(this,T))||o!==d(this,je))&&w(this,I,fs).call(this,o)}getOptimisticResult(s){const n=d(this,z).getQueryCache().build(d(this,z),s),r=this.createResult(n,s);return zi(this,r)&&(y(this,P,r),y(this,Ye,this.options),y(this,Te,d(this,T).state)),r}getCurrentResult(){return d(this,P)}trackResult(s,n){return new Proxy(s,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(s){d(this,Xe).add(s)}getCurrentQuery(){return d(this,T)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=d(this,z).defaultQueryOptions(s),r=d(this,z).getQueryCache().build(d(this,z),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(s){return w(this,I,lt).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,P)))}createResult(s,n){var $s;const r=d(this,T),i=this.options,o=d(this,P),c=d(this,Te),l=d(this,Ye),h=s!==r?s.state:d(this,mt),{state:v}=s;let m={...v},E=!1,g;if(n._optimisticResults){const K=this.hasListeners(),Et=!K&&Ks(s,n),Le=K&&Ys(s,r,n,i);(Et||Le)&&(m={...m,...fr(v.data,s.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:C,errorUpdatedAt:_,status:b}=m;g=m.data;let L=!1;if(n.placeholderData!==void 0&&g===void 0&&b==="pending"){let K;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(K=o.data,L=!0):K=typeof n.placeholderData=="function"?n.placeholderData(($s=d(this,qe))==null?void 0:$s.state.data,d(this,qe)):n.placeholderData,K!==void 0&&(b="success",g=us(o==null?void 0:o.data,K,n),E=!0)}if(n.select&&g!==void 0&&!L)if(o&&g===(c==null?void 0:c.data)&&n.select===d(this,jt))g=d(this,Je);else try{y(this,jt,n.select),g=n.select(g),g=us(o==null?void 0:o.data,g,n),y(this,Je,g),y(this,me,null)}catch(K){y(this,me,K)}d(this,me)&&(C=d(this,me),g=d(this,Je),_=Date.now(),b="error");const Z=m.fetchStatus==="fetching",ee=b==="pending",rt=b==="error",pt=ee&&Z,it=g!==void 0,ne={status:b,fetchStatus:m.fetchStatus,isPending:ee,isSuccess:b==="success",isError:rt,isInitialLoading:pt,isLoading:pt,data:g,dataUpdatedAt:m.dataUpdatedAt,error:C,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:Z,isRefetching:Z&&!ee,isLoadingError:rt&&!it,isPaused:m.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:rt&&it,isStale:Rs(s,n),refetch:this.refetch,promise:d(this,fe),isEnabled:X(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const K=gt=>{ne.status==="error"?gt.reject(ne.error):ne.data!==void 0&&gt.resolve(ne.data)},Et=()=>{const gt=y(this,fe,ne.promise=ds());K(gt)},Le=d(this,fe);switch(Le.status){case"pending":s.queryHash===r.queryHash&&K(Le);break;case"fulfilled":(ne.status==="error"||ne.data!==Le.value)&&Et();break;case"rejected":(ne.status!=="error"||ne.error!==Le.reason)&&Et();break}}return ne}updateResult(){const s=d(this,P),n=this.createResult(d(this,T),this.options);if(y(this,Te,d(this,T).state),y(this,Ye,this.options),d(this,Te).data!==void 0&&y(this,qe,d(this,T)),as(n,s))return;y(this,P,n);const r=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!d(this,Xe).size)return!0;const c=new Set(o??d(this,Xe));return this.options.throwOnError&&c.add("error"),Object.keys(d(this,P)).some(l=>{const u=l;return d(this,P)[u]!==s[u]&&c.has(u)})};w(this,I,mr).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&w(this,I,ms).call(this)}},z=new WeakMap,T=new WeakMap,mt=new WeakMap,P=new WeakMap,Te=new WeakMap,Ye=new WeakMap,fe=new WeakMap,me=new WeakMap,jt=new WeakMap,Je=new WeakMap,qe=new WeakMap,Re=new WeakMap,Ne=new WeakMap,je=new WeakMap,Xe=new WeakMap,I=new WeakSet,lt=function(s){w(this,I,Es).call(this);let n=d(this,T).fetch(this.options,s);return s!=null&&s.throwOnError||(n=n.catch(dt)),n},hs=function(){w(this,I,js).call(this);const s=Be(this.options.staleTime,d(this,T));if(we||d(this,P).isStale||!os(s))return;const r=cr(d(this,P).dataUpdatedAt,s)+1;y(this,Re,setTimeout(()=>{d(this,P).isStale||this.updateResult()},r))},xs=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,T)):this.options.refetchInterval)??!1},fs=function(s){w(this,I,ps).call(this),y(this,je,s),!(we||X(this.options.enabled,d(this,T))===!1||!os(d(this,je))||d(this,je)===0)&&y(this,Ne,setInterval(()=>{(this.options.refetchIntervalInBackground||ur.isFocused())&&w(this,I,lt).call(this)},d(this,je)))},ms=function(){w(this,I,hs).call(this),w(this,I,fs).call(this,w(this,I,xs).call(this))},js=function(){d(this,Re)&&(clearTimeout(d(this,Re)),y(this,Re,void 0))},ps=function(){d(this,Ne)&&(clearInterval(d(this,Ne)),y(this,Ne,void 0))},Es=function(){const s=d(this,z).getQueryCache().build(d(this,z),this.options);if(s===d(this,T))return;const n=d(this,T);y(this,T,s),y(this,mt,s.state),this.hasListeners()&&(n==null||n.removeObserver(this),s.addObserver(this))},mr=function(s){Ts.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(d(this,P))}),d(this,z).getQueryCache().notify({query:d(this,T),type:"observerResultsUpdated"})})},er);function Vi(t,s){return X(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Ks(t,s){return Vi(t,s)||t.state.data!==void 0&&gs(t,s,s.refetchOnMount)}function gs(t,s,n){if(X(s.enabled,t)!==!1&&Be(s.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Rs(t,s)}return!1}function Ys(t,s,n,r){return(t!==s||X(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rs(t,n)}function Rs(t,s){return X(s.enabled,t)!==!1&&t.isStaleByTime(Be(s.staleTime,t))}function zi(t,s){return!as(t.getCurrentResult(),s)}var jr=a.createContext(void 0),Gi=t=>{const s=a.useContext(jr);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},jf=({client:t,children:s})=>(a.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(jr.Provider,{value:t,children:s})),pr=a.createContext(!1),Wi=()=>a.useContext(pr);pr.Provider;function Ki(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Yi=a.createContext(Ki()),Ji=()=>a.useContext(Yi),qi=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},Xi=t=>{a.useEffect(()=>{t.clearReset()},[t])},Qi=({result:t,errorResetBoundary:s,throwOnError:n,query:r,suspense:i})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Oi(n,[t.error,r])),Zi=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>s(n(...r)):s(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},eo=(t,s)=>t.isLoading&&t.isFetching&&!s,to=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,Js=(t,s,n)=>s.fetchOptimistic(t).catch(()=>{n.clearReset()});function so(t,s,n){var m,E,g,C,_;const r=Wi(),i=Ji(),o=Gi(),c=o.defaultQueryOptions(t);(E=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||E.call(m,c),c._optimisticResults=r?"isRestoring":"optimistic",Zi(c),qi(c,i),Xi(i);const l=!o.getQueryCache().get(c.queryHash),[u]=a.useState(()=>new s(o,c)),h=u.getOptimisticResult(c),v=!r&&t.subscribed!==!1;if(a.useSyncExternalStore(a.useCallback(b=>{const L=v?u.subscribe(Ts.batchCalls(b)):dt;return u.updateResult(),L},[u,v]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),a.useEffect(()=>{u.setOptions(c)},[c,u]),to(c,h))throw Js(c,u,i);if(Qi({result:h,errorResetBoundary:i,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw h.error;if((C=(g=o.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||C.call(g,c,h),c.experimental_prefetchInRender&&!we&&eo(h,r)){const b=l?Js(c,u,i):(_=o.getQueryCache().get(c.queryHash))==null?void 0:_.promise;b==null||b.catch(dt).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?h:u.trackResult(h)}function Er(t,s){return so(t,Bi)}function no(){const{breedId:t}=Zr(),{data:s}=ro(t);return e.jsxs("div",{children:[e.jsx("h1",{children:t}),e.jsx("h3",{children:"Random Image"}),e.jsx("div",{children:e.jsx("img",{src:s==null?void 0:s.message,alt:"random dog",style:{width:"400px",height:"400px",objectFit:"cover"}})}),e.jsx(Ie,{to:"..",children:"Close"})]})}function ro(t){return Er({queryKey:["breeds",t,"random"],queryFn:async()=>(await fetch(`https://dog.ceo/api/breed/${t}/images/random`)).json(),enabled:!!t})}const io="_root_pnm5d_1",oo="_list_pnm5d_7",qs={root:io,list:oo};function co(){const{data:t}=ao();return e.jsxs("div",{className:qs.root,children:[e.jsx("div",{className:qs.list,children:(t==null?void 0:t.message)&&Object.keys(t.message).map(s=>e.jsx(Ie,{to:s,children:s},s))}),e.jsx("div",{children:e.jsx(tr,{})})]})}function ao(){return Er({queryKey:["breeds","list"],queryFn:async()=>(await fetch("https://dog.ceo/api/breeds/list/all")).json()})}const lo="_root_10xhv_1",uo={root:lo};function ho(){return e.jsxs("div",{className:uo.root,children:[e.jsx("h2",{children:"–ß–æ–º—É –≤–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—è"}),e.jsxs("ol",{children:[e.jsx("li",{children:"—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–µ–±-–¥–æ–¥–∞—Ç–∫–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º React, TypeScript —Ç–∞ —ñ–Ω—à–∏—Ö —Å—É—á–∞—Å–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π"}),e.jsx("li",{children:"—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–∏ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é, —è–∫—ñ –ª–µ–≥–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏"}),e.jsx("li",{children:'–¥—É–º–∞—Ç–∏ "—É —Å—Ç–∏–ª—ñ React" —Ç–∞ –∑—Ä–æ–∑—É–º—ñ—î—Ç–µ, —è–∫ React –ø—Ä–∞—Ü—é—î –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º'}),e.jsx("li",{children:'—É–ø—Ä–∞–≤–ª—è—Ç–∏ —Å—Ç–∞–Ω–æ–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é "—Ä—ñ–¥–Ω–∏—Ö" —Ö—É–∫—ñ–≤ –†–µ–∞–∫—Ç—É –∞ —Ç–∞–∫–æ–∂ –±—ñ–±–ª—ñ–æ—Ç–µ–∫ —Ç–∏–ø—É Redux, Zustand, Jotai, Rematch'}),e.jsx("li",{children:"–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é React Query, SWR –∞–±–æ –ø—Ä—è–º–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤"}),e.jsx("li",{children:"—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é React Router"}),e.jsx("li",{children:"—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Å–≤–æ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Vitest —Ç–∞ React Testing Library"})]}),e.jsx("h2",{children:"–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("h3",{children:"–û—Å–Ω–æ–≤–∏"}),e.jsxs("ul",{children:[e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"React"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("li",{children:[e.jsx("h3",{children:"–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º (State management)"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Redux"}),e.jsx("li",{children:"Rematch"}),e.jsx("li",{children:"Zustand"}),e.jsx("li",{children:"Jotai"})]})]}),e.jsxs("li",{children:[e.jsx("h3",{children:"–û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö (Data fetching)"}),e.jsxs("ul",{children:[e.jsx("li",{children:"React.Context + fetch API"}),e.jsx("li",{children:"TanStack Query / React Query"}),e.jsx("li",{children:"SWR"})]})]}),e.jsxs("li",{children:[e.jsx("h3",{children:"–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è (Routing)"}),e.jsx("ul",{children:e.jsx("li",{children:"React Router"})})]}),e.jsxs("li",{children:[e.jsx("h3",{children:"–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (Testing)"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Vitest / Jest"}),e.jsx("li",{children:"React Testing Library"}),e.jsx("li",{children:"Storybook"})]})]})]})]})}const gr="/mastering-react";var x=(t=>(t.ROOT="/",t.PAGE_NOT_FOUND="*",t.ABOUT="about",t.REACT_TRAITS="intro/react-traits",t.HELLO_WORLD="intro/hello-world",t.JSX_BASICS="intro/jsx-basics",t.JSX_CREATE_ELEMENT="intro/jsx-create-element",t.JSX_DATA_TYPES="intro/jsx-data-types",t.JSX_FRAGMENTS="intro/jsx-fragments",t.JSX_ARRAYS="intro/jsx-arrays",t.JSX_EVENT_HANDLERS="intro/jsx-event-handlers",t.JSX_CONDITIONAL="intro/jsx-conditional",t.PROPS_AND_CHILDREN="intro/props-and-children",t.RENDERING_PROCESS="intro/rendering-process",t.USE_STATE_BASICS="hooks-basics/use-state-basics",t.PREV_STATE_UPDATE="hooks-basics/prev-state-update",t.DIRECT_STATE_MUTATION="hooks-basics/direct-state-mutation",t.USE_COUNTER="hooks-basics/use-counter",t.USE_MERGED_STATE="hooks-basics/use-merged-state",t.USE_STATE_LAZY_INIT="hooks-basics/use-state-lazy-init",t.STORING_FUNCTIONS="hooks-basics/storing-functions",t.USE_STATE_AND_NEW_RENDERS="hooks-basics/use-state-and-new-renders",t.DIRECT_DOM_CHANGES="hooks-basics/direct-dom-changes",t.COMPONENT_LIFECYCLE_EFFECTS="side-effects/component-lifecycle-effects",t.EFFECTS_DEPENDENCIES="side-effects/effect-dependencies",t.LOCAL_STORAGE_SYNC="side-effects/local-storage-sync",t.GLOBAL_EVENT_LISTENERS="side-effects/global-event-listeners",t.USE_EFFECT_SET_INTERVAL="side-effects/use-effect-set-interval",t.FETCH_DATA_USE_EFFECT="side-effects/fetch-data-use-effect",t.BEWARE_OF_INFINITE_LOOPS="side-effects/beware-of-infinite-loops",t.NO_NEED_TO_USE_EFFECT="side-effects/no-need-to-use-effect",t.EFFECTS_SEQUENCE="side-effects/effects-sequence",t.BATCHING_EFFECTS="side-effects/batching-effects",t.CONTROLLED_INPUT="imperative-code/controlled-input",t.UNCONTROLLED_INPUT="imperative-code/uncontrolled-input",t.ROCK_SCISSORS_PAPER="imperative-code/rock-scissors-paper",t.STORING_STATE_IN_USEREF="imperative-code/storing-state-in-useref",t.USE_IMPERATIVE_HANDLE="imperative-code/use-imperative-handle",t.LIST_WITHOUT_MEMOIZATION="memoization/list-without-memoization",t.LIST_WITH_MEMOIZATION="memoization/list-with-memoization",t.USE_UPDATE_EFFECT="memoization/use-update-effect",t.WHEN_REACT_RENDERS="memoization/when-react-renders",t.USE_MEMO="memoization/use-memo",t.MEMOIZED_REF_CALLBACK="memoization/memoized-ref-callback",t.KEYS_AND_LISTS="lifecycle/keys-and-lists",t.KEYS_REMOUNT_COMPONENT="lifecycle/remount-component",t.KEYS_COMPONENTS_STRUCTURE="lifecycle/components-structure",t.RANDOM_RENDERING="lifecycle/random-rendering",t.LIFECYCLE_AMD_MEMOIZATION="lifecycle/lifecycle-and-memoization",t.FUNCTION_OR_COMPONENT="lifecycle/function-or-component",t.COUNTER_REDUCER="context/counter-reducer",t.REDUCER_LAZY_INIT="context/reducer-lazy-init",t.TOGGLE_REDUCER="context/toggle-reducer",t.RERENDER_REDUCER="context/rerender-reducer",t.INTRO_TO_CONTEXT="context/intro-to-context",t.NESTED_CONTEXTS="context/nested-contexts",t.MULTIPLE_CONTEXTS="context/multiple-contexts",t.CONTACT_BOOK="context/contact-book",t.VEGAN_DRAGON="context/vegan-dragon",t.STATE_REMATCH="state-management/rematch",t.STATE_ZUSTAND="state-management/zustand",t.STATE_JOTAI="state-management/jotai",t.DATA_FETCHING_USE_EFFECT="data-fetching/with-use-effect",t.REACT_QUERY="data-fetching/react-query",t.SWR="data-fetching/swr",t.NAVLINK_VS_ANCHOR="routing/navlink-vs-anchor",t.LINK_VS_NAVLINK="routing/link-vs-navlink",t.USE_NAVIGATE="routing/use-navigate",t.USE_LOCATION="routing/use-location",t.NESTED_ROUTES="routing/nested-routes/*",t.DYNAMIC_ROUTES="routing/dynamic-routes",t.USE_WHAT_CAUSED_RENDER="hooks/use-what-caused-render",t.USE_HOVERED="hooks/use-hovered",t.USE_PREVIOUS_RENDER_VALUE="hooks/use-previous-render-value",t.USE_HISTORY="hooks/use-history",t.TRACK_MOUSE_POSITION="hooks/track-mouse-position",t.USE_THROTTLED_STATE="hooks/use-throttled-state",t.USE_DEBOUNCED_STATE="hooks/use-debounced-state",t.USE_TIMEOUT="hooks/use-timeout",t.USE_CLICK_OUTSIDE="hooks/use-click-outside",t.USE_ELEMENT_SIZE="hooks/use-element-size",t.USE_FORM_STATUS="react-19/use-form-status",t.USE_OPTIMISTIC="react-19/use-optimistic",t.USE_ACTION_STATE="react-19/use-action-state",t.ACTIVITY="react-19/activity",t.USE_EFFECT_EVENT="react-19/use-effect-event",t.ERROR_BOUNDARY="misc/error-boundary",t.SUSPENSE="misc/suspense",t.STRICT_MODE="misc/strict-mode",t))(x||{});const xo="–û–ø–∞–Ω–æ–≤—É—î–º–æ React";function ke(t){return a.useReducer(s=>!s,t||!1)}const fo="_expandToggle_fnzgw_1",mo={expandToggle:fo};function vr({expanded:t,onClick:s}){return e.jsx("div",{className:mo.expandToggle,onClick:s,children:t?"‚ûñ":"‚ûï"})}const jo="_container_2hnft_1",po="_master_2hnft_10",Eo="_masterTitle_2hnft_17",go="_titleLink_2hnft_26",vo="_tableOfContents_2hnft_32",So="_detail_2hnft_39",Me={container:jo,master:po,masterTitle:Eo,titleLink:go,tableOfContents:vo,detail:So},yo="_root_19vib_1",Co={root:yo};function _o(){return e.jsx("div",{className:Co.root,children:e.jsx("h2",{children:"üõ∏ –ü—Ä–∏–±—É–ª—å—Ü—ñ –ø–æ—Ü—É–ø–∏–ª–∏ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É! üõ∏"})})}const bo=a.lazy(()=>Ee(()=>import("./index-VrasEZWn.js"),__vite__mapDeps([0,1,2]))),To=a.lazy(()=>Ee(()=>import("./Background-DpH6RoR2.js"),__vite__mapDeps([3,1,4]))),Pt="44px",Ro=t=>({minWidth:t?"250px":Pt,maxWidth:t?"350px":Pt,width:t?"25%":Pt});function No({children:t}){const[s,n]=a.useState([]),[r,i]=ke(!0),o=a.useCallback(c=>{n(l=>l.some(u=>u.path===c.path)?l:[...l,c])},[]);return e.jsx(ei,{basename:gr,children:e.jsxs("div",{className:Me.container,children:[e.jsxs("nav",{className:Me.master,style:Ro(r),children:[e.jsxs("div",{className:Me.masterTitle,children:[e.jsx(vr,{expanded:r,onClick:i}),r&&e.jsx(ue,{to:x.ROOT,className:Me.titleLink,children:e.jsx("h2",{children:xo})})]}),r&&e.jsx("div",{className:Me.tableOfContents,children:e.jsx(or.Provider,{value:{addRoute:o},children:t})})]}),e.jsx("main",{className:Me.detail,children:e.jsx(a.Suspense,{fallback:e.jsx(wt,{}),children:e.jsxs(sr,{children:[e.jsx(q,{path:x.ROOT,element:e.jsx(To,{})}),e.jsx(q,{path:x.ABOUT,element:e.jsx(ho,{})}),e.jsx(q,{path:x.PAGE_NOT_FOUND,element:e.jsx(_o,{})}),e.jsx(q,{path:x.DYNAMIC_ROUTES,element:e.jsx(bo,{}),children:e.jsx(q,{path:"breeds",element:e.jsx(co,{}),children:e.jsx(q,{path:":breedId",element:e.jsx(no,{})})})}),s.map(c=>e.jsx(q,{...c},c.path))]})})})]})})}const ko="_section_1icgf_1",Io="_sectionTitle_1icgf_6",wo="_expanded_1icgf_13",Ao="_sectionContent_1icgf_22",yt={section:ko,sectionTitle:Io,expanded:wo,sectionContent:Ao};function O({title:t,children:s}){const[n,r]=a.useState(!1),{pathname:i}=It(),o=()=>r(l=>!l);a.useEffect(()=>{const l=i.substring(1);l&&Sr("",l,s)&&r(!0)},[s,i]);const c={display:n?"block":"none"};return e.jsxs("div",{className:yt.section,children:[e.jsxs("div",{className:G(yt.sectionTitle,n&&yt.expanded),onClick:o,children:[e.jsx(vr,{expanded:n}),e.jsx("div",{children:t})]}),e.jsx("div",{className:yt.sectionContent,style:c,children:s})]})}function Sr(t,s,n){return t===s?!0:a.Children.toArray(n).some(({props:r})=>Sr(r.path,s,r.children))}function Oo({name:t,value:s}){return e.jsxs("tr",{children:[e.jsx("td",{children:t}),e.jsx("td",{children:typeof s=="object"?e.jsx(ge,{data:s}):s})]})}function ge({title:t,data:s}){return s?e.jsxs("table",{children:[t&&e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{colSpan:2,children:t})})}),e.jsx("tbody",{children:Object.entries(s).map(([n,r])=>e.jsx(Oo,{name:n,value:r},n))})]}):e.jsx(e.Fragment,{})}const Do="_header_u0ese_1",Lo="_tabHeader_u0ese_5",Uo="_selected_u0ese_16",Ht={header:Do,tabHeader:Lo,selected:Uo};function Mo(t){const{tabs:s,selectedIndex:n,onSelect:r}=t;return e.jsx("div",{className:Ht.header,children:s.map((i,o)=>{const c=G(Ht.tabHeader,o===n&&Ht.selected);return e.jsx("div",{className:c,onClick:()=>r(o),children:i},i)})})}const Fo="_textBlock_1p1vm_1",$o="_info_1p1vm_11",Po="_success_1p1vm_15",Ho="_warning_1p1vm_19",Bo="_error_1p1vm_23",Xs={textBlock:Fo,default:"_default_1p1vm_7",info:$o,success:Po,warning:Ho,error:Bo};function W({children:t,type:s="default",className:n,style:r}){return e.jsx("div",{className:G(Xs.textBlock,Xs[s],n),style:r,children:t})}const Vo="_toolbar_iek84_1",zo={toolbar:Vo};function S({children:t}){return e.jsx("div",{className:zo.toolbar,children:t})}const Go="_valueLabel_19k6c_1",Wo={valueLabel:Go};function se({value:t,minWidth:s}){return e.jsx("div",{className:Wo.valueLabel,style:{minWidth:s},children:t})}function Ns({children:t,...s}){return e.jsx("a",{target:"_blank",rel:"noopener noreferrer",...s,children:t})}function R({docs:t}){return e.jsxs(W,{type:"info",style:{marginTop:16},children:["üìö Related docs:",e.jsx("ul",{children:t.map(s=>e.jsx("li",{children:e.jsx(Ns,{href:s.href,children:s.label})},s.href))})]})}const Ko="_link_1rt3q_1",Yo="_activeLink_1rt3q_10",Qs={link:Ko,activeLink:Yo};function Ie({children:t,...s}){return e.jsxs(ue,{className:({isActive:n})=>G(Qs.link,n&&Qs.activeLink),...s,children:["[",t,"]"]})}const Jo="_container_g2uia_1",qo="_rendersCounter_g2uia_6",Zs={container:Jo,rendersCounter:qo};function Xo({children:t}){const s=a.useRef(1);return a.useEffect(()=>{s.current++}),e.jsxs("div",{className:Zs.container,children:[t,e.jsxs("div",{className:Zs.rendersCounter,children:["R: ",s.current]})]})}function Qo(){return e.jsx("div",{children:"Hello, world! üëΩ"})}const Bt=["üöó","üöï","üöô","üöå","üöé","üèé","üöì","üöë","üöí","üöê","üõª","üöö"],Vt=["‚öΩÔ∏è","üèÄ","üèà","‚öæÔ∏è","üéæ","üèê","üèâ"];function en(t){const{emojis:s,ordered:n=!1}=t,r=s.map((o,c)=>e.jsx("li",{children:o},c)),i=n?"ol":"ul";return e.jsx(i,{children:r})}function tn({emojis:t}){const s=new Array;for(let n=0;n<t.length;n++){const r=t[n];s.push(e.jsxs("tr",{children:[e.jsx("td",{children:n+1}),e.jsx("td",{children:r}),e.jsx("td",{children:r.split("").map(i=>i.charCodeAt(0)).join(" + ")})]},n))}return e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Emoji"}),e.jsx("th",{children:"Char codes"})]})}),e.jsx("tbody",{children:s})]})}function Zo(){return e.jsxs(j,{title:"Rendering arrays",subtitle:"Introduction to JSX",children:[e.jsxs("p",{children:["Balls emojis: ",Vt]}),e.jsxs("p",{children:["Transport emojis: ",Bt.join(" ")]}),e.jsxs("div",{style:{display:"flex",gap:20},children:[e.jsx(en,{emojis:Vt}),e.jsx(en,{emojis:Bt,ordered:!0}),e.jsx(tn,{emojis:Vt}),e.jsx(tn,{emojis:Bt})]})]})}const yr=11;function ec({value:t}){if(t>yr)return null;const s=t===1?"üêõ":"ü¶ã",n=t>5;return e.jsx("div",{style:{fontSize:48},children:e.jsxs(S,{children:[e.jsx(se,{value:t}),e.jsx(ir,{}),e.jsx("span",{children:t%2===0?"üêà":"üêà‚Äç‚¨õ"}),e.jsx("span",{children:s}),t===6?e.jsx("span",{children:"üê¨"}):null,t%3===0&&e.jsx("span",{children:"ü¶î"}),e.jsx("span",{children:n&&"ü¶ï"}),e.jsx("span",{children:t&&"ü¶©"}),e.jsx("span",{children:!!t&&"üêô"})]})})}function tc(){const t=new Array(yr+5).fill(0).map((s,n)=>n);return e.jsx(j,{title:"Conditional rendering",subtitle:"Introduction to JSX",children:t.map(s=>e.jsx(ec,{value:s},s))})}const sc=[{type:"undefined",valueString:"undefined",value:void 0},{type:"null",valueString:"null",value:null},{type:"string",valueString:"'London is the capital of Great Britain'",value:"London is the capital of Great Britain"},{type:"string",valueString:"''",value:""},{type:"number",valueString:"100500",value:100500},{type:"number",valueString:"0",value:0},{type:"number",valueString:"-1",value:-1},{type:"boolean",valueString:"false",value:!1},{type:"boolean",valueString:"true",value:!0},{type:"Array<number>",valueString:"[1, 2, 3, 4, 5]",value:[1,2,3,4,5]},{type:"Array<number>",valueString:"[]",value:[]},{type:"Set<string>",valueString:"new Set<string>(['one', 'two', 'three'])",value:new Set(["one","two","three"])}];function nc(){return e.jsxs(j,{title:"Data types",subtitle:"Introduction to JSX",children:[e.jsx("h3",{children:"Let's check how React renders different data types"}),e.jsx("br",{}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Value"}),e.jsx("th",{children:"Result"})]})}),e.jsx("tbody",{children:sc.map(({type:t,valueString:s,value:n},r)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:t})}),e.jsx("td",{children:e.jsx("code",{children:s})}),e.jsx("td",{children:n})]},r))})]})]})}function F(){const[,t]=a.useState();return a.useCallback(()=>t({}),[])}const rc={display:"flex",justifyContent:"center",alignItems:"center"},ic="Button",zt="Input";function oc(){const t=F(),s=()=>{k(zt,"onFocus")},n=o=>{k(zt,o.target.value)},r=()=>{k(zt,"onBlur")},i=()=>{t()};return e.jsxs(j,{title:"Event handlers",subtitle:"Introduction to JSX",children:[e.jsx(S,{children:e.jsx(p,{text:"Click me!",onClick:()=>k(ic,"You clicked me!")})}),e.jsx(S,{children:e.jsx("input",{defaultValue:"Default value",onChange:n,onFocus:s,onBlur:r})}),e.jsx("div",{onClick:i,onMouseEnter:i,onMouseLeave:i,children:e.jsx(D,{style:rc,children:"Click me! (Hover will do the trick too)"})})]})}function cc(){return e.jsxs(a.Fragment,{children:[e.jsx("li",{children:"apple üçé"}),e.jsx("li",{children:"pear üçê"}),e.jsx("li",{children:"orange üçä"}),e.jsx("li",{children:"banana üçå"}),e.jsx("li",{children:"watermelon üçâ"})]})}function ac(){return e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"tomato üçÖ"}),e.jsx("li",{children:"eggplant üçÜ"}),e.jsx("li",{children:"avocado ü•ë"}),e.jsx("li",{children:"cucumber ü•í"}),e.jsx("li",{children:"pepper üå∂"})]})}function lc(){return e.jsxs(j,{title:"Fragments",subtitle:"Introduction to JSX",children:["List of fruits and vegetables:",e.jsxs("ul",{children:[e.jsx(cc,{}),e.jsx(ac,{})]})]})}function uc(){const t={listStyleType:"circle"};return e.jsxs("div",{children:["‚ùå JSX ",e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"IS NOT"}),":",e.jsxs("ul",{style:t,children:[e.jsx("li",{children:"String"}),e.jsx("li",{children:"HTML"}),e.jsx("li",{children:"XML"})]})]})}const Cr=e.jsx("code",{children:"React.createElement()"});function dc(){return e.jsxs("div",{children:["‚úÖ JSX ",e.jsx("span",{style:{color:"green",fontWeight:"bold"},children:"IS"}),":",e.jsxs("ul",{children:[e.jsx("li",{children:"JavaScript syntax extension"}),e.jsxs("li",{children:["Syntactic sugar for ",Cr]}),e.jsx("li",{children:"Expressive and easy-to-use"})]})]})}function _r(t){switch(t){case"jsx":return"https://reactjs.org/docs/introducing-jsx.html";case"babel":return"https://babeljs.io/";default:throw new Error(`I don't know URL for ${t}`)}}function hc(){return e.jsxs("div",{children:["üëΩ Facts about JSX:",e.jsxs("ol",{children:[e.jsx("li",{children:"JSX is optional"}),e.jsxs("li",{children:["Transpiled by"," ",e.jsx("a",{href:_r("babel"),target:"_blank",rel:"noreferrer",children:"Babel"})," ","to ",Cr," calls"]}),e.jsx("li",{children:"JSX is JS, so you can do with JSX everything you can do with regular JS values"}),e.jsxs("li",{children:["You can use ","any"," expressions inside the JSX"]}),e.jsx("li",{children:"You can use any expressions inside the JSX"}),e.jsx("li",{children:"But note that 'any' in previous example rendered in a separate text element"}),e.jsxs("li",{children:["2 + 2 = ",4," (a fact, but not about JSX)"]})]})]})}function xc(){const t=e.jsx("a",{href:_r("jsx"),target:"_blank",rel:"noreferrer",children:"JSX"});return e.jsxs(j,{title:e.jsxs("span",{children:["ü§î What is ",t,"?"]}),subtitle:"Introduction to JSX",children:[e.jsx(uc,{}),e.jsx(dc,{}),e.jsx(hc,{})]})}function fc(){const t={title:"React without JSX",subtitle:"Introduction to JSX",children:a.createElement("p",{style:{fontSize:"18px"}},"You don't have to use JSX, but the code is much harder to work without it.")};return a.createElement(j,t)}const mc="_container_1evd8_1",jc="_image_1evd8_7",pc="_caption_1evd8_16",Gt={container:mc,image:jc,caption:pc};function Ec({name:t}){const s=`https://cataas.com/cat?${t}`;return e.jsxs("div",{className:Gt.container,children:[e.jsx("img",{alt:"Cat",src:s,className:Gt.image}),e.jsx("div",{className:Gt.caption,children:t})]})}const gc="_children_67whw_1",vc={children:gc};function Y({name:t,children:s}){return e.jsxs(D,{style:{flex:1},children:[e.jsx(Ec,{name:t}),s?e.jsx("div",{className:vc.children,children:s}):null]})}function Sc(){return e.jsx(j,{title:"Components, props and children",subtitle:"How to manage child components",children:e.jsxs(Y,{name:"Jack",children:[e.jsx(Y,{name:"John",children:e.jsxs(Y,{name:"Leo",children:[e.jsx(Y,{name:"Bella"}),e.jsxs(Y,{name:"Loki",children:[e.jsx(Y,{name:"Mia"}),e.jsx(Y,{name:"Candy"})]})]})}),e.jsxs(Y,{name:"Jill",children:[e.jsx(Y,{name:"Fluffy"}),e.jsx(Y,{name:"Tiger"}),e.jsx(Y,{name:"Mufasa",children:e.jsx(Y,{name:"Simba"})})]})]})})}function tt(t,s){const n=a.useRef(t);a.useEffect(()=>{n.current=t},[t]),a.useEffect(()=>{if(!s)return;const r=setInterval(()=>{n.current&&n.current()},s);return()=>{clearInterval(r)}},[s])}const yc="_arrow_1x2j0_1",Cc="_children_1x2j0_10",sn={arrow:yc,children:Cc},_c={flex:1,position:"relative",display:"flex",justifyContent:"center",alignItems:"center"};function oe({name:t,isRoot:s=!1,children:n}){return e.jsxs(D,{style:_c,children:["<",t," />",!s&&e.jsx("div",{className:sn.arrow,children:"‚á©"}),n&&e.jsx("div",{className:sn.children,children:n})]})}function bc(){const t=F();return tt(t,3e3),e.jsxs(j,{title:"React traits",subtitle:"How React is different from other libraries?",children:[e.jsx(W,{type:"info",children:e.jsxs("ul",{style:{listStyleType:"none",margin:0,padding:0,fontSize:24},children:[e.jsx("li",{children:"üóÇ Declarative"}),e.jsx("li",{children:"üå≥ Virtual DOM"}),e.jsx("li",{children:"‚¨áÔ∏è Unidirectional data flow"}),e.jsx("li",{children:"üìù JSX - Special syntax to describe UI"}),e.jsx("li",{children:"üèó Components as main building blocks of your app"}),e.jsx("li",{children:"ü™ù Hooks helps to encapsulate business logic"})]})}),e.jsx("h4",{children:"This is how a typical React app looks like:"}),e.jsxs(oe,{name:"App",isRoot:!0,children:[e.jsxs(oe,{name:"Header",children:[e.jsx(oe,{name:"UserAvatar"}),e.jsx(oe,{name:"Login",children:e.jsx(oe,{name:"Modal",children:e.jsx(oe,{name:"Form"})})})]}),e.jsx(oe,{name:"Dashboard",children:e.jsx(oe,{name:"SomeChart",children:e.jsx(oe,{name:"ChartLegend"})})})]})]})}const Tc="/mastering-react/assets/real-dom-CzbpCOMY.png",Rc="_container_fs0lx_1",Nc="_emojiWrapper_fs0lx_6",kc="_emoji_fs0lx_6",Ic="_header_fs0lx_17",wc="_realDomImage_fs0lx_28",Ac="_bottomLabel_fs0lx_35",de={container:Rc,emojiWrapper:Nc,emoji:kc,header:Ic,realDomImage:wc,bottomLabel:Ac};function nn(t){return{flex:t,flexDirection:"column",padding:16,borderRadius:8,backgroundColor:pe()+"22"}}function Wt({children:t}){return e.jsx("div",{className:de.emojiWrapper,children:e.jsx("div",{className:de.emoji,children:t})})}function Oc(){return e.jsx(j,{title:"Rendering process",subtitle:"üå≤ üÜö üå≤ ‚û°Ô∏è üå≥",children:e.jsxs("div",{className:de.container,children:[e.jsxs("div",{style:nn(2),children:[e.jsx("h3",{className:de.header,children:"Virtual DOM / React Realm"}),e.jsx(D,{children:"New render has been triggered (because of some change in the state of the app). React calls the root component function. Children component function will be called recursively."}),e.jsx(Wt,{children:"‚¨áÔ∏è"}),e.jsx(D,{children:"New Virtual DOM tree is created now. It consists of React Elements - lightweight javascript object which sits in memory and stores representation of a component. They have no direct connection to the real DOM elements."}),e.jsx(Wt,{children:"‚¨áÔ∏è"}),e.jsx(D,{children:"New VDOM now should be compared to the old one (if it exists, of course). Calculated diff will be applied to the real DOM."}),e.jsx("div",{className:de.bottomLabel,children:"Virtual DOM is a tree data structure of lightweight React Element objects. React can generate thousands of React Elements on each render with a great performance."})]}),e.jsx(Wt,{children:"‚û°Ô∏è"}),e.jsxs("div",{style:nn(1),children:[e.jsx("h3",{className:de.header,children:"Real DOM / Browser Realm"}),e.jsx("img",{alt:"Real DOM",src:Tc,className:de.realDomImage,loading:"lazy",decoding:"async"}),e.jsx("div",{className:de.bottomLabel,children:`The "real" Document Object Model tree. You can check it on any page by opening the browser's Dev Tools panel.`})]})]})})}function Dc(){return e.jsxs(O,{title:"Intro",children:[e.jsx(f,{emoji:"‚öõÔ∏è",title:"React traits",path:x.REACT_TRAITS,element:e.jsx(bc,{})}),e.jsx(f,{emoji:"üëΩ",title:"Hello, world!",path:x.HELLO_WORLD,element:e.jsx(Qo,{})}),e.jsxs(O,{title:"JSX",children:[e.jsx(f,{emoji:"üìù",title:"JSX Basics",path:x.JSX_BASICS,element:e.jsx(xc,{})}),e.jsx(f,{emoji:"üèó",title:"React.createElement()",path:x.JSX_CREATE_ELEMENT,element:e.jsx(fc,{})}),e.jsx(f,{emoji:"üìé",title:"Fragments",path:x.JSX_FRAGMENTS,element:e.jsx(lc,{})}),e.jsx(f,{emoji:"üóÑ",title:"Arrays",path:x.JSX_ARRAYS,element:e.jsx(Zo,{})}),e.jsx(f,{emoji:"üî£",title:"Data types",path:x.JSX_DATA_TYPES,element:e.jsx(nc,{})}),e.jsx(f,{emoji:"üì¨",title:"Event handlers",path:x.JSX_EVENT_HANDLERS,element:e.jsx(oc,{})}),e.jsx(f,{emoji:"‚ùì",title:"Conditional",path:x.JSX_CONDITIONAL,element:e.jsx(tc,{})})]}),e.jsx(f,{emoji:"üß©",title:"Components, props, children",path:x.PROPS_AND_CHILDREN,element:e.jsx(Sc,{})}),e.jsx(f,{emoji:"üéû",title:"Rendering process",path:x.RENDERING_PROCESS,element:e.jsx(Oc,{})})]})}function st(t=0,s=1){const[n,r]=a.useState(t);return{value:n,increase:()=>r(c=>c+s),decrease:()=>r(c=>c-s)}}function Lc(){const{value:t,increase:s}=st(0,5),n="Click me! ".repeat(t+1);return e.jsx("div",{style:{padding:16,cursor:"pointer",userSelect:"none"},onClick:()=>s(),children:n})}function Uc({initialValue:t}){const{value:s,increase:n,decrease:r}=st(t,10);return e.jsxs("div",{style:{padding:10},children:[e.jsx("div",{style:{fontSize:24},children:"Pick a decade:"}),e.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[e.jsx(p,{onClick:()=>r(),text:"‚ûñ"}),e.jsx(se,{value:`${s}'s`}),e.jsx(p,{onClick:()=>n(),text:"‚ûï"})]})]})}function Mc(){return e.jsxs(j,{title:"useCounter",subtitle:"First custom hooks",children:[e.jsx(Lc,{}),e.jsx(Uc,{initialValue:1970})]})}function Fe(t){const{name:s,label:n,value:r,onChange:i,type:o="text"}=t;return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("div",{style:{minWidth:200},children:e.jsx("label",{htmlFor:s,children:n})}),e.jsx("input",{name:s,type:o,value:r??void 0,onChange:c=>i(c.target.value)})]})}function Fc(t){const[s,n]=a.useState(t);return[s,i=>{n(o=>{const c=ti(o);return si(c,i)})}]}const rn={firstName:"John",lastName:"Smith",age:21,address:{city:"New York",street:"Broadway",house:44}};function on(t){return t?Math.max(parseInt(t),0):null}function $c(){const[t,s]=Fc(rn),n=()=>s(rn);return e.jsxs(j,{title:"useMergedState",subtitle:"First custom hooks",children:[e.jsxs("form",{children:[e.jsx(Fe,{name:"firstName",label:"First name",value:t.firstName,onChange:r=>s({firstName:r})}),e.jsx(Fe,{name:"lastName",label:"Last name",value:t.lastName,onChange:r=>s({lastName:r})}),e.jsx(Fe,{name:"age",label:"Age",value:t.age,onChange:r=>s({age:on(r)}),type:"number"}),e.jsx(Fe,{name:"city",label:"City",value:t.address.city,onChange:r=>s({address:{city:r}})}),e.jsx(Fe,{name:"street",label:"Street",value:t.address.street,onChange:r=>s({address:{street:r}})}),e.jsx(Fe,{name:"house",label:"House",value:t.address.house,onChange:r=>s({address:{house:on(r)}}),type:"number"})]}),e.jsx("div",{style:{marginTop:16},children:e.jsx(S,{children:e.jsx(p,{onClick:n,text:"Reset"})})}),e.jsx(ge,{title:"Form data",data:t})]})}const U=[];for(let t=0;t<256;++t)U.push((t+256).toString(16).slice(1));function Pc(t,s=0){return(U[t[s+0]]+U[t[s+1]]+U[t[s+2]]+U[t[s+3]]+"-"+U[t[s+4]]+U[t[s+5]]+"-"+U[t[s+6]]+U[t[s+7]]+"-"+U[t[s+8]]+U[t[s+9]]+"-"+U[t[s+10]]+U[t[s+11]]+U[t[s+12]]+U[t[s+13]]+U[t[s+14]]+U[t[s+15]]).toLowerCase()}let Kt;const Hc=new Uint8Array(16);function Bc(){if(!Kt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Kt=crypto.getRandomValues.bind(crypto)}return Kt(Hc)}const Vc=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cn={randomUUID:Vc};function et(t,s,n){var i;if(cn.randomUUID&&!t)return cn.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Bc();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Pc(r)}const an="value-label-container";function zc(){const t=F(),[s,n]=a.useState(()=>et()),[r,i]=a.useState(()=>pe()),o=()=>{n(et())},c=()=>{i(pe())},l=()=>{const h=document.getElementById(an);h&&(h.style.backgroundColor="red")},u=`
    background-color: ${r}; 
    border: 1px solid #0004;
    text-shadow: 1px 1px #0008;
    border-radius: 8px;
    color: white;
  `;return console.log("%c bgColor ",u),e.jsxs(j,{title:"Direct DOM changes",subtitle:"Hooks basics, useState",rerender:t,children:[e.jsxs(S,{children:[e.jsx(p,{text:"New UID",onClick:o}),e.jsx(p,{text:"New color",onClick:c}),e.jsx(p,{text:"New color (direct)",onClick:l})]}),e.jsx("div",{id:an,style:{backgroundColor:r,borderRadius:8},children:e.jsx(se,{value:s})})]})}const Gc={id:"1",firstName:"Taras",middleName:"Hryhorovych",lastName:"Shevchenko",country:"Ukraine",addressLine1:"Cherkasy"};function ln(t){return s=>{t(s.target.value)}}function Wc(){const[t,s]=a.useState(Gc),[n,r]=a.useState(""),[i,o]=a.useState(""),[c,l]=a.useState("üë§"),u=()=>{s(v=>({...v,addressLine1:n}))},h=()=>{t.addressLine2=i};return e.jsxs(j,{title:"Direct state mutation",subtitle:"Hooks basics, useState",children:[e.jsxs(S,{children:[e.jsx(Hs,{text:"Address line 1"}),e.jsx("input",{type:"text",value:n,onChange:ln(r)}),e.jsx(p,{text:"Apply via setState",onClick:u})]}),e.jsxs(S,{children:[e.jsx(Hs,{text:"Address line 2"}),e.jsx("input",{type:"text",value:i,onChange:ln(o)}),e.jsx(p,{text:"Apply directly",onClick:h})]}),e.jsxs(S,{children:[e.jsx(Qe,{emoji:"üë§",onClick:()=>l("üë§"),disabled:c==="üë§"}),e.jsx(Qe,{emoji:"ü•∑",onClick:()=>l("ü•∑"),disabled:c==="ü•∑"})]}),e.jsx(ge,{title:`${c} User`,data:t})]})}function Kc({maxPower:t}){const s=[];for(let n=1;n<=t;n++)s.push(e.jsxs("th",{style:{minWidth:100},children:["^",n]},n));return e.jsx("tr",{children:s})}function Yc({rowId:t,array:s,onClick:n}){const r=()=>{n(t)};return e.jsx("tr",{onClick:r,children:s.map((i,o)=>e.jsx("td",{children:i},o))})}const Jc=30,un=5;function qc(t,s){const n=[];for(let r=0;r<t;r++){const i=new Array(s);for(let o=1;o<=s;o++)i[o-1]=Math.pow(r,o);n.push(i)}return n}function ve(t){return t[0]}function Xc(){const[t,s]=a.useState(()=>{k("useState","init");const c=qc(Jc,un);return console.table(c),c}),n=()=>s(c=>{const l=[...c];return l.sort(()=>Math.random()>.5?1:-1),l}),r=()=>s(c=>{const l=[...c];return l.sort((u,h)=>ve(u)-ve(h)),l}),i=()=>s(c=>{const l=[...c];return l.sort((u,h)=>ve(h)-ve(u)),l}),o=c=>s(l=>l.filter(u=>ve(u)!==c));return e.jsxs(j,{title:"Lazy initialization",subtitle:"Hooks basics, useState",children:[e.jsxs(S,{children:[e.jsx(p,{text:"‚¨ÜÔ∏è Sort",onClick:r}),e.jsx(p,{text:"‚¨áÔ∏è Sort",onClick:i}),e.jsx(p,{text:"üîÄ Shuffle",onClick:n})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx(Kc,{maxPower:un})}),e.jsx("tbody",{children:t.map(c=>e.jsx(Yc,{rowId:ve(c),array:c,onClick:o},ve(c)))})]}),e.jsx(R,{docs:[{label:"Avoiding recreating the initial state",href:"https://react.dev/reference/react/useState#avoiding-recreating-the-initial-state"}]})]})}const dn=2e3,Qc=[1,1];function Zc(){const[t,s]=a.useState(0),[n,r]=a.useState(!0),[i,o]=a.useState(Qc),c=()=>{setTimeout(()=>s(t+1),dn)},l=()=>{setTimeout(()=>s(v=>v+1),dn)},u=()=>{r(v=>!v)},h=()=>{o(v=>{const m=[...v],E=m.length-1;return m.push(m[E]+m[E-1]),m})};return e.jsxs(j,{title:"Previous state update",subtitle:"Hooks basics, useState",children:[e.jsxs(S,{children:[e.jsx(se,{value:n?t:"?",minWidth:100}),e.jsx(p,{onClick:c,text:"Increment counter"}),e.jsx(p,{onClick:l,text:"Increment with delay"}),e.jsx(p,{onClick:u,text:"Toggle show clicks"})]}),e.jsx(S,{children:e.jsx(p,{text:"Add Fibonacci number",onClick:h})}),e.jsxs("div",{children:["Fibonacci sequence: ",i.join(", ")]}),e.jsx(R,{docs:[{label:"Updating state based on the previous state",href:"https://react.dev/reference/react/useState#updating-state-based-on-the-previous-state"}]})]})}const hn=(t,s)=>t+s,ea=(t,s)=>t-s,ta=(t,s)=>t*s,sa=(t,s)=>t/s,xn=t=>s=>{const{value:n}=s.target;t(n?parseFloat(n):0)};function na(){const[t,s]=a.useState(0),[n,r]=a.useState(0),[i,o]=a.useState(()=>hn),[c,l]=a.useState("‚ûï"),u=(h,v)=>()=>{o(()=>h),l(v)};return e.jsxs(j,{title:"Storing function in useState",subtitle:"Hooks basics, useState",children:[e.jsxs(S,{children:[e.jsx(p,{onClick:u(hn,"‚ûï"),text:"‚ûï Add"}),e.jsx(p,{onClick:u(ea,"‚ûñ"),text:"‚ûñ Subtract"}),e.jsx(p,{onClick:u(sa,"‚ûó"),text:"‚ûó Divide"}),e.jsx(p,{onClick:u(ta,"‚úñÔ∏è"),text:"‚úñÔ∏è Multiply"})]}),e.jsxs(S,{children:[e.jsx("input",{type:"number",value:t,onChange:xn(s)}),e.jsx("div",{style:{minWidth:10,textAlign:"center"},children:c}),e.jsx("input",{type:"number",value:n,onChange:xn(r)}),e.jsxs("span",{children:[" = ",i?i(t,n):""]})]})]})}const fn={id:"1",name:"John Doe",role:"admin"},mn=["üó∫","üóø","üèü","üóº","üèØ","üé°"];function ra(){const[t,s]=a.useState(mn[0]),[n,r]=a.useState(fn),i=F(),o=u=>{const h=()=>{k("setState",u),s(u)};return e.jsx(Qe,{emoji:u,onClick:h},u)},c=()=>{r(fn)},l=()=>{r({id:"2",name:"Jane Doe",role:"customer"})};return e.jsxs(j,{title:"useState and new renders",subtitle:"Hooks basics, useState",rerender:i,children:[e.jsx(D,{style:{marginBottom:24},children:"I'm a render indicator. If I will change my background color - new render was triggered."}),e.jsx(S,{children:mn.map(o)}),e.jsx(se,{value:t}),e.jsxs(S,{children:[e.jsx(p,{text:"Set user constant",onClick:c}),e.jsx(p,{text:"Set object literal",onClick:l})]}),e.jsx(ge,{title:"User",data:n})]})}const ia=[1,1];function oa(){const[t,s]=a.useState(0),[n,r]=a.useState(!0),[i,o]=a.useState(""),[c,l]=a.useState(ia),u=()=>s(t+1),h=()=>r(!0),v=()=>r(!1),m=C=>{o(C.target.value)},E=()=>o(""),g=()=>{const C=[...c],_=C.length-1;C.push(C[_]+C[_-1]),l(C)};return e.jsxs(j,{title:"What is a hook?",subtitle:"Hooks basics, useState",children:[e.jsxs(S,{children:[e.jsx(se,{value:n?t:"?",minWidth:100}),e.jsx(p,{onClick:u,text:"Increment counter"}),e.jsx(p,{onClick:h,text:"Show clicks",disabled:n}),e.jsx(p,{onClick:v,text:"Hide clicks",disabled:!n})]}),e.jsxs(S,{children:[e.jsx("input",{type:"text",value:i,onChange:m}),e.jsx(p,{text:"Clear",onClick:E})]}),e.jsx(S,{children:e.jsx(p,{text:"Add Fibonacci number",onClick:g})}),e.jsxs("div",{children:["Fibonacci sequence: ",c.join(", ")]}),e.jsx(R,{docs:[{label:"State: A Component's Memory",href:"https://react.dev/learn/state-a-components-memory"},{label:"useState Hook Reference",href:"https://react.dev/reference/react/useState"}]})]})}function ca(){return e.jsxs(O,{title:"Hooks basics, useState",children:[e.jsx(f,{emoji:"ü™ù",title:"useState basics",path:x.USE_STATE_BASICS,element:e.jsx(oa,{})}),e.jsx(f,{emoji:"üìà",title:"Previous state update",path:x.PREV_STATE_UPDATE,element:e.jsx(Zc,{})}),e.jsx(f,{emoji:"üìâ",title:"Direct state mutation",path:x.DIRECT_STATE_MUTATION,element:e.jsx(Wc,{})}),e.jsxs(O,{title:"First custom hooks",children:[e.jsx(f,{emoji:"üî¢",title:"useCounter",path:x.USE_COUNTER,element:e.jsx(Mc,{})}),e.jsx(f,{emoji:"üìë",title:"useMergedState",path:x.USE_MERGED_STATE,element:e.jsx($c,{})})]}),e.jsx(f,{emoji:"ü¶•",title:"Lazy initialization",path:x.USE_STATE_LAZY_INIT,element:e.jsx(Xc,{})}),e.jsx(f,{emoji:"üß∞",title:"Storing functions",path:x.STORING_FUNCTIONS,element:e.jsx(na,{})}),e.jsx(f,{emoji:"üéû",title:"useState and new renders",path:x.USE_STATE_AND_NEW_RENDERS,element:e.jsx(ra,{})}),e.jsx(f,{emoji:"üîÄ",title:"Direct DOM changes",path:x.DIRECT_DOM_CHANGES,element:e.jsx(zc,{})})]})}function At(t){const[s,n]=a.useState([]);return a.useEffect(()=>{n(r=>[...r,t])},[t]),s}const aa="_circle_1jbpd_1",la={circle:aa};var Ae=(t=>(t.RED="üî¥",t.ORANGE="üü†",t.YELLOW="üü°",t.GREEN="üü¢",t.BLUE="üîµ",t.VIOLET="üü£",t.BLACK="‚ö´Ô∏è",t))(Ae||{});const vs=a.memo(({position:t,color:s,opacity:n})=>{const r={left:t.x,top:t.y,opacity:n};return e.jsx("div",{className:la.circle,style:r,children:s})});function Ot(t,s,n){return t.map((r,i)=>r&&e.jsx(vs,{position:r,color:s,opacity:n},i))}const ua="_container_hmfvh_1",nt={container:ua};function ks(){const[t,s]=a.useState(null);return[t,r=>{const{clientX:i,clientY:o}=r,c=r.target,{x:l,y:u}=c.getBoundingClientRect();s({x:i-l,y:o-u})}]}function da(){const[t,s]=ks(),n=At(t);return e.jsx(j,{title:"Track mouse position",subtitle:"More custom hooks",children:e.jsx("div",{className:nt.container,onMouseMove:s,children:Ot(n,Ae.ORANGE)})})}function ha(t,s){const n=a.useRef(null);a.useEffect(()=>{n.current=s},[s]),a.useEffect(()=>{const r=i=>{var o;(o=n.current)==null||o.call(n,i)};return window.addEventListener(t,r),()=>{window.removeEventListener(t,r)}},[t])}function xa(t){const s=a.useRef(null);return ha("click",n=>{n.composedPath().every(i=>i!==s.current)&&t()}),a.useCallback(n=>{s.current=n},[])}const fa="_container_upbl2_1",ma="_target_upbl2_8",jn={container:fa,target:ma},ja=200,pa=100,pn=25;function Ea(){const[t,s]=a.useState(ja),n=xa(()=>{s(o=>Math.max(o-pn,pa))}),r=()=>{s(o=>o+pn)},i={backgroundColor:pe(),width:t,height:t};return e.jsx(j,{title:"useClickOutside",subtitle:"More custom hooks",children:e.jsx("div",{className:jn.container,children:e.jsx("div",{ref:n,className:jn.target,style:i,onClick:r,children:"Try to click inside and outside"})})})}function ga(t,s){const[n,r]=a.useState(t),i=a.useCallback(ni(o=>r(o),s),[s]);return[n,i]}function va(t,s){return{x:(t.x+s.x)/2,y:(t.y+s.y)/2}}function Sa(t,s){return Math.atan2(s.y-t.y,s.x-t.x)}function br(t,s){return!t||!s?0:Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}const ya=1e3,Ca=300;function Is({path:t}){const[s,n]=a.useState(0),[r,i]=a.useState(0),[o,c]=a.useState(0),l=t.filter(g=>!!g),u=l[r],v=br(l[s],u)/Ca,m=l.length>=2?v*1e3||ya:null,E={position:"absolute",left:u==null?void 0:u.x,top:u==null?void 0:u.y,fontSize:36,transition:`all ${v}s linear`,transform:"translate(-50%, -50%)"};return tt(()=>{n(r),o===0?r<l.length-1?i(r+1):(i(r-1),c(1)):r>0?i(r-1):(i(r+1),c(0))},m),l.length>=2?e.jsx("div",{style:E,children:"üöò"}):null}const Tr=a.memo(({from:t,to:s,color:n})=>{const{x:r,y:i}=va(t,s),o=br(t,s),c=Sa(t,s),l={pointerEvents:"none",position:"absolute",height:"2px",border:`1px dashed ${n||"#0003"}`,left:r,top:i,width:o,transform:`translate(-50%, -50%) rotate(${c}rad)`};return e.jsx("div",{style:l})});function ws(t,s){return t.map((n,r,i)=>{const o=i[r+1];return n&&o?e.jsx(Tr,{from:n,to:o,color:s},r):null})}const _a=200;function ba(){const[t,s]=ga(null,_a),n=At(t),r=i=>{const{clientX:o,clientY:c}=i,l=i.target,{x:u,y:h}=l.getBoundingClientRect();s({x:o-u,y:c-h})};return e.jsx(j,{title:"useDebouncedValue",subtitle:"More custom hooks",children:e.jsxs("div",{className:nt.container,onMouseMove:r,children:[ws(n),Ot(n,Ae.BLUE),e.jsx(Is,{path:n})]})})}const Ta=[0,0];function Ra(){const[t,s]=a.useState(Ta),n=a.useRef(null),r=a.useCallback(i=>{var o;if((o=n.current)==null||o.disconnect(),i){const c=new ResizeObserver(l=>{const{inlineSize:u,blockSize:h}=l[0].borderBoxSize[0];s([u,h])});c.observe(i),n.current=c}},[]);return a.useEffect(()=>()=>{var i;return(i=n.current)==null?void 0:i.disconnect()},[]),[t,r]}const Na="_container_mixf5_1",ka="_node_mixf5_8",Ia="_dummy_mixf5_18",Ct={container:Na,node:ka,dummy:Ia};function wa(){const[t,s]=Ra(),[n,r]=t,[i,o]=a.useState(0),c=()=>{o(h=>h+1)},l=()=>{o(h=>Math.max(h-1,0))},u=Array.from({length:i},(h,v)=>e.jsx("div",{className:G(Ct.node,Ct.dummy),children:"Dummy"},v));return e.jsxs(j,{title:"useElementSize",subtitle:"More custom hooks",children:[e.jsxs(S,{children:[e.jsx(p,{text:"Add dummy",onClick:c}),e.jsx(p,{text:"Remove dummy",onClick:l})]}),e.jsxs("div",{className:Ct.container,children:[e.jsxs("div",{ref:s,className:Ct.node,style:{backgroundColor:pe()},children:[n.toFixed(0)," x ",r.toFixed(0)]}),u]})]})}function Aa(){const[t,s]=ks(),n=At(t);return e.jsx(j,{title:"useHistory",subtitle:"More custom hooks",children:e.jsxs("div",{className:nt.container,onClick:s,children:[ws(n),Ot(n,Ae.GREEN),e.jsx(Is,{path:n})]})})}function Oa(){const[t,s]=a.useState(!1),n=a.useRef(null),r=a.useRef(null),i=a.useRef(null),o=a.useCallback(c=>{var l,u;c&&(r.current&&((l=n.current)==null||l.removeEventListener("mouseover",r.current)),i.current&&((u=n.current)==null||u.removeEventListener("mouseout",i.current)),n.current=c,r.current=()=>s(!0),i.current=()=>s(!1),c.addEventListener("mouseover",r.current),c.addEventListener("mouseout",i.current))},[]);return a.useEffect(()=>()=>{const c=n.current;r.current&&(c==null||c.removeEventListener("mouseover",r.current)),i.current&&(c==null||c.removeEventListener("mouseout",i.current))},[]),[t,o]}function ot({idle:t,hover:s}){const[n,r]=Oa();return e.jsx("div",{ref:r,style:{fontSize:48,cursor:"pointer"},children:n?s:t})}function Da(){return e.jsxs(j,{title:"useHovered",subtitle:"More custom hooks",children:[e.jsxs(S,{children:[e.jsx(ot,{idle:"üêà",hover:"üêà‚Äç‚¨õ"}),e.jsx(ot,{idle:"üêò",hover:"ü¶£"}),e.jsx(ot,{idle:"üê†",hover:"üê°"}),e.jsx(ot,{idle:"üê¥",hover:"ü¶Ñ"}),e.jsx(ot,{idle:"üêµ",hover:"üôà"})]}),e.jsx(R,{docs:[{label:"Custom Hooks: Sharing logic between components",href:"https://react.dev/learn/reusing-logic-with-custom-hooks#custom-hooks-sharing-logic-between-components"}]})]})}function La(t){const s=a.useRef(void 0);return a.useEffect(()=>{s.current=t},[t]),s.current}const En=.5;function Ua(){const[t,s]=ks(),n=La(t),r=F();return e.jsx(j,{title:"usePreviousRenderValue",subtitle:"More custom hooks",rerender:r,children:e.jsxs("div",{className:nt.container,onClick:s,children:[n&&t&&e.jsx(Tr,{from:n,to:t}),n&&e.jsx(vs,{position:n,color:Ae.RED,opacity:En}),t&&e.jsx(vs,{position:t,color:Ae.GREEN,opacity:En})]})})}function Ma(t,s){const[n,r]=a.useState(t),i=a.useMemo(()=>ri(o=>r(o),s),[s]);return[n,i]}const Fa=300;function $a(){const[t,s]=Ma(null,Fa),n=At(t),r=i=>{const{clientX:o,clientY:c}=i,l=i.target,{x:u,y:h}=l.getBoundingClientRect();s({x:o-u,y:c-h})};return e.jsx(j,{title:"useThrottledState",subtitle:"More custom hooks",children:e.jsxs("div",{className:nt.container,onMouseMove:r,children:[ws(n),Ot(n,Ae.VIOLET),e.jsx(Is,{path:n})]})})}function Pa(t,s){const n=a.useRef(t),[r,i]=a.useState();return a.useEffect(()=>{n.current=t},[t]),a.useEffect(()=>{const o=setTimeout(()=>n.current(),s);return()=>clearTimeout(o)},[s,r]),{reschedule:()=>i({})}}function M(){return et()}const Ha="_wingFlutter_1hfal_1",Ba={wingFlutter:Ha};function ht(t,s){return t+Math.random()*(s-t)}function Ss(){return{x:ht(0,100),y:ht(0,100)}}function Va({creature:t}){const[s,n]=a.useState(t.position);a.useEffect(()=>n(Ss()),[]),tt(()=>n(Ss()),5e3);const r={position:"absolute",left:`${s.x}%`,top:`${s.y}%`,cursor:"default",transition:"transform 0.1s ease-in-out, left 5s linear, top 5s linear"};return e.jsx("div",{className:Ba.wingFlutter,style:r,children:"ü¶ã"})}function za({creature:t,onClick:s}){const{x:n,y:r}=t.position,[i,o]=ke(!1),c=a.useMemo(()=>ht(500,3e3),[]);tt(o,c);const l={position:"absolute",left:`${n}%`,top:`${r}%`,transform:`translate(-50%, -50%) scaleX(${i?-1:1})`,cursor:"default",transition:"all 0.3s ease-in-out"};return e.jsx("div",{style:l,onClick:()=>s(t),children:"üêõ"})}const Ga="_gameOver_16ws6_1",Wa={gameOver:Ga},gn=10,Ka=10*1e3;function Ya(){const[t,s]=a.useState(()=>vn(gn)),[n,r]=a.useState([]),[i,o]=a.useState(!0),c=h=>{s(v=>v.filter(m=>m.id!==h.id)),r(v=>[...v,h])},{reschedule:l}=Pa(()=>o(!1),Ka),u=()=>{s(vn(gn)),r([]),o(!0),l()};return e.jsx(j,{title:"useTimeout",subtitle:"More custom hooks",children:i?e.jsxs("div",{className:nt.container,style:{fontSize:36,border:"none"},children:[t.map(h=>e.jsx(za,{creature:h,onClick:c},h.id)),n.map(h=>e.jsx(Va,{creature:h},h.id))]}):e.jsxs("div",{className:Wa.gameOver,children:["Game over!",e.jsxs("div",{children:[n.length+t.length," üêõ ‚û°Ô∏è ",n.length," ü¶ã"]}),e.jsx(p,{text:"Play again",onClick:u})]})})}function vn(t){const s=new Array(t);for(let n=0;n<t;n++)s[n]={id:M(),position:Ss()};return s}function Ja(){return e.jsxs(O,{title:"More custom hooks",children:[e.jsx(f,{emoji:"ü¶Ñ",title:"useHovered",path:x.USE_HOVERED,element:e.jsx(Da,{})}),e.jsx(f,{emoji:"üî¥",title:"usePreviousRenderValue",path:x.USE_PREVIOUS_RENDER_VALUE,element:e.jsx(Ua,{})}),e.jsx(f,{emoji:"üü¢",title:"useHistory",path:x.USE_HISTORY,element:e.jsx(Aa,{})}),e.jsxs(O,{title:"Throttle, debounce",children:[e.jsx(f,{emoji:"üü†",title:"Track mouse position",path:x.TRACK_MOUSE_POSITION,element:e.jsx(da,{})}),e.jsx(f,{emoji:"üü£",title:"useThrottledState",path:x.USE_THROTTLED_STATE,element:e.jsx($a,{})}),e.jsx(f,{emoji:"üîµ",title:"useDebouncedState",path:x.USE_DEBOUNCED_STATE,element:e.jsx(ba,{})})]}),e.jsx(f,{emoji:"‚è≤",title:"useTimeout",path:x.USE_TIMEOUT,element:e.jsx(Ya,{})}),e.jsx(f,{emoji:"üéØ",title:"useClickOutside",path:x.USE_CLICK_OUTSIDE,element:e.jsx(Ea,{})}),e.jsx(f,{emoji:"üìê",title:"useElementSize",path:x.USE_ELEMENT_SIZE,element:e.jsx(wa,{})})]})}const qa="_root_mmk0n_1",Xa={root:qa};function Qa({activeTabKey:t,items:s}){const n=s.find(r=>r.tabKey===t);return e.jsx(e.Fragment,{children:n==null?void 0:n.content})}const Za="_clicks_1d0ds_1",el={clicks:Za};function tl(){const[t,s]=a.useReducer(n=>n+1,0);return e.jsxs("div",{className:el.clicks,onClick:()=>s(),children:["Clicks: ",e.jsx("b",{children:t})]})}function Sn({tabKey:t,children:s}){return a.useEffect(()=>(console.log(`${t}: ‚úÖ effect callback`),()=>{console.log(`${t}: üóëÔ∏è effect cleanup`)}),[t]),e.jsxs("div",{children:[s,e.jsx(tl,{})]})}const sl="_tabs_jxntv_1",nl="_tabTitle_jxntv_6",rl="_activeTabTitle_jxntv_11",Yt={tabs:sl,tabTitle:nl,activeTabTitle:rl};function il({items:t,activeTabKey:s,onChange:n}){return e.jsx("div",{className:Yt.tabs,children:t.map(({tabKey:r,title:i})=>e.jsx("div",{className:G(Yt.tabTitle,r===s&&Yt.activeTabTitle),onClick:()=>n(r),children:i},r))})}function ol(){const[t,s]=a.useState(Jt[0].tabKey);return e.jsxs(j,{title:"Activity",subtitle:"New component in React 19.2",contentClassName:Xa.root,children:[e.jsx(il,{items:Jt,activeTabKey:t,onChange:s}),e.jsx(Qa,{activeTabKey:t,items:Jt}),e.jsx(R,{docs:[{label:"Activity",href:"https://react.dev/reference/react/Activity"}]})]})}const Jt=[{tabKey:"first",title:"First",content:e.jsx(Sn,{tabKey:"first",children:"First tab content"},"first")},{tabKey:"second",title:"Second",content:e.jsx(Sn,{tabKey:"second",children:"Second tab content"},"second")}],cl="_content_1c6b4_1",al="_formField_1c6b4_7",ll="_input_1c6b4_13",ul="_error_1c6b4_23",dl="_success_1c6b4_29",ct={content:cl,formField:al,input:ll,error:ul,success:dl};function hl(){const[t,s,n]=a.useActionState(xl,null);return e.jsx(j,{title:"useActionState",subtitle:"New hooks in React 19",children:e.jsxs("div",{className:ct.content,children:[e.jsxs("form",{action:s,children:[e.jsxs("div",{className:ct.formField,children:[e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:ct.input,disabled:n,placeholder:"Enter your email"}),!n&&(t==null?void 0:t.success)&&e.jsx("div",{className:ct.success,children:t.message}),!n&&!(t!=null&&t.success)&&(t==null?void 0:t.message)&&e.jsx("div",{className:ct.error,children:t.message})]}),e.jsx(p,{type:"submit",disabled:n,text:n?"Subscribing...":"Subscribe"})]}),e.jsx(R,{docs:[{label:"useActionState",href:"https://react.dev/reference/react/useActionState"}]})]})})}async function xl(t,s){return await new Promise(n=>setTimeout(n,1500)),{success:!0,message:"Successfully subscribed to newsletter!"}}const fl="_container_oyo9l_1",ml="_colorItem_oyo9l_7",jl="_selected_oyo9l_21",qt={container:fl,colorItem:ml,selected:jl};function pl({selectedColor:t,onColorChange:s}){return e.jsx("div",{className:qt.container,children:El.map(n=>e.jsx("div",{onClick:()=>s(n),className:G(qt.colorItem,t===n&&qt.selected),style:{backgroundColor:n}},n))})}const El=["aqua","coral","crimson","gold","indigo","lime","magenta","orange","pink","purple","salmon","teal"],gl="_root_mmk0n_1",vl={root:gl};function Sl(){const[t,s]=a.useState("aqua");return a.useEffect(()=>{const n=r=>{console.log(`%c‚óè %c${r.key}`,`color:${t};font-size:20px;`,"color:black")};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[t]),e.jsxs(j,{title:"useEffectEvent",subtitle:"New hooks in React 19.2",contentClassName:vl.root,children:[e.jsx(W,{type:"info",children:"–¢–∏—Ü—è–π—Ç–µ –ø–æ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—ñ —ñ –¥–∏–≤—ñ—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å"}),e.jsx(pl,{selectedColor:t,onColorChange:s}),e.jsx(R,{docs:[{label:"useEffectEvent",href:"https://react.dev/reference/react/useEffectEvent"}]})]})}const yl="_content_5oxg6_1",Cl="_formField_5oxg6_7",_l="_blink_5oxg6_28",As={content:yl,formField:Cl,blink:_l},bl=2e3;function Tl(){const t=async s=>{await new Promise(n=>setTimeout(n,bl))};return e.jsx(j,{title:"useFormStatus",subtitle:"New hooks in React 19",children:e.jsxs("div",{className:As.content,children:[e.jsxs("form",{action:t,children:[e.jsx(yn,{label:"First Name",name:"firstName",required:!0}),e.jsx(yn,{label:"Last Name",name:"lastName",required:!0}),e.jsx("div",{children:e.jsx(Rl,{})})]}),e.jsx(R,{docs:[{label:"useFormStatus",href:"https://react.dev/reference/react-dom/hooks/useFormStatus"}]})]})})}function yn({label:t,name:s,type:n="text",required:r}){const{pending:i}=nr.useFormStatus();return e.jsxs("div",{className:As.formField,children:[e.jsxs("label",{htmlFor:s,children:[t,":"]}),e.jsx("input",{type:n,name:s,required:r,disabled:i})]})}function Rl(){const{pending:t}=nr.useFormStatus();return e.jsx(p,{type:"submit",disabled:t,text:t?"Submitting...":"Submit",className:G(t&&As.blink)})}const Nl="_root_1m9ly_1",kl="_circle_1m9ly_7",Il="_pending_1m9ly_17",wl="_relatedDocs_1m9ly_21",_t={root:Nl,circle:kl,pending:Il,relatedDocs:wl},Al={x:0,y:0};function Ol(){const[t,s]=a.useTransition(),[n,r]=a.useState(Al),[i,o]=a.useOptimistic(n,(l,u)=>u),c=l=>{const{clientX:u,clientY:h}=l,v=l.target,{x:m,y:E}=v.getBoundingClientRect(),g={x:u-m,y:h-E};s(async()=>{o(g);try{const C=await Dl(g);r(C)}catch(C){console.log("API call returned an error",C)}})};return e.jsx(j,{title:"useOptimistic",subtitle:"New hooks in React 19",children:e.jsxs("div",{className:_t.root,onClick:c,children:[e.jsx("div",{className:G(_t.circle,t&&_t.pending),style:{left:i==null?void 0:i.x,top:i==null?void 0:i.y}}),e.jsx("div",{className:_t.relatedDocs,children:e.jsx(R,{docs:[{label:"useOptimistic",href:"https://react.dev/reference/react/useOptimistic"},{label:"useTransition",href:"https://react.dev/reference/react/useTransition"}]})})]})})}function Dl(t){return new Promise((s,n)=>{setTimeout(()=>{Math.random()<.7?s(t):n(new Error("API call failed"))},1e3)})}function Ll(){return e.jsxs(O,{title:"React 19",children:[e.jsx(f,{emoji:"üìù",title:"useFormStatus",path:x.USE_FORM_STATUS,element:e.jsx(Tl,{})}),e.jsx(f,{emoji:"üëç",title:"useOptimistic",path:x.USE_OPTIMISTIC,element:e.jsx(Ol,{})}),e.jsx(f,{emoji:"üé¨",title:"useActionState",path:x.USE_ACTION_STATE,element:e.jsx(hl,{})}),e.jsx(f,{emoji:"üôà",title:"Activity",path:x.ACTIVITY,element:e.jsx(ol,{})}),e.jsx(f,{emoji:"üö¶",title:"useEffectEvent",path:x.USE_EFFECT_EVENT,element:e.jsx(Sl,{})})]})}const Ul="_error_14m1j_1",Ml={error:Ul};class Cn extends a.Component{constructor(s){super(s),this.state={error:null,errorInfo:null}}componentDidCatch(s,n){this.setState({error:s,errorInfo:n})}render(){const{error:s,errorInfo:n}=this.state,{children:r,fallback:i}=this.props;return s?i||e.jsxs("div",{className:Ml.error,children:[e.jsxs("div",{children:["‚õî ",s==null?void 0:s.message]}),e.jsx("div",{style:{whiteSpace:"pre-line"},children:n==null?void 0:n.componentStack})]}):r}}function Fl(){return e.jsxs(j,{title:"Error boundary",children:[e.jsxs(Cn,{children:[e.jsx($l,{}),e.jsx(Cn,{fallback:e.jsx("div",{children:"Error was caught by inner ErrorBoundary"}),children:e.jsx("div",{children:"You can move ComponentWithError here and the error will be caught by inner ErrorBoundary"})})]}),e.jsx(R,{docs:[{label:"Error Boundaries",href:"https://react.dev/reference/react/Component#static-getderivedstatefromerror"},{label:"react-error-boundary",href:"https://www.npmjs.com/package/react-error-boundary"}]})]})}function $l(){throw new Error("This error was caught by closest ErrorBoundary")}function Pl(){const t=F();return e.jsxs(j,{title:"StrictMode",rerender:t,children:[e.jsx(a.StrictMode,{children:e.jsx(Hl,{})}),e.jsx(R,{docs:[{label:"StrictMode",href:"https://react.dev/reference/react/StrictMode"}]})]})}function Hl(){const t=a.useRef(0);t.current++,k("render",String(t.current));const s=()=>{k("ref callback",String(t.current))};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"This component is in strict mode"}),e.jsxs("p",{ref:s,children:["Renders count: ",t.current]})]})}const Bl="_loadingFallback_14qry_1",Vl={loadingFallback:Bl};function zl(){return e.jsx("div",{className:Vl.loadingFallback,children:e.jsx(wt,{})})}const Gl=a.lazy(()=>new Promise(t=>setTimeout(()=>{Ee(()=>import("./HeavyComponent-CsP8W3EU.js"),__vite__mapDeps([5,1])).then(s=>{t({default:s.HeavyComponent})})},1500)));function Wl(){return e.jsxs(j,{title:"Suspense",children:[e.jsx(a.Suspense,{fallback:e.jsx(zl,{}),children:e.jsx(Gl,{})}),e.jsx(R,{docs:[{label:"React Suspense",href:"https://react.dev/reference/react/Suspense"},{label:"React Lazy",href:"https://react.dev/reference/react/lazy"}]})]})}function Kl(){return e.jsxs(O,{title:"Misc",children:[e.jsx(f,{emoji:"‚õî",title:"Error boundary",path:x.ERROR_BOUNDARY,element:e.jsx(Fl,{})}),e.jsx(f,{emoji:"üîç",title:"StrictMode",path:x.STRICT_MODE,element:e.jsx(Pl,{})}),e.jsx(f,{emoji:"‚åõ",title:"Suspense",path:x.SUSPENSE,element:e.jsx(Wl,{})})]})}const Yl="https://jsonplaceholder.typicode.com/posts",Jl=200;function ql(){const[t,s]=a.useState("1"),[n,r]=a.useState(null),[i,o]=a.useState(!0),[c,l]=a.useState(null);a.useEffect(()=>{o(!0),fetch(`${Yl}/${t}`).then(h=>{if(h.status!==Jl)throw new Error(`Status code ${h.status}`);return h.json()}).then(h=>{r(h),l(null)}).catch(h=>{r(null),l(h)}).finally(()=>o(!1))},[t]);const u=h=>{s(h.target.value)};return e.jsxs(j,{title:"Fetch data in useEffect",subtitle:"Side effects, useEffect",children:[e.jsxs(S,{children:["Post ID ",e.jsx("input",{type:"number",value:t,onChange:u})]}),i?e.jsx("div",{style:{position:"relative",height:200},children:e.jsx(wt,{})}):c?e.jsxs("div",{style:{color:"red"},children:[e.jsx("strong",{children:"Error: "}),c.message]}):e.jsx(ge,{title:`/posts/${t}`,data:n}),e.jsx(R,{docs:[{label:"Fetching data with effects",href:"https://react.dev/reference/react/useEffect#fetching-data-with-effects"}]})]})}const Xl="_animalEmoji_6d7fr_1",Ql={animalEmoji:Xl};function _n({emojis:t,onClick:s}){return e.jsx(S,{children:t.map(n=>e.jsx("div",{className:Ql.animalEmoji,onClick:()=>s(n),children:n},n))})}const Zl=["üê∂","üê±","üê≠","üêπ","üê∞","ü¶ä","üêª","üêº","üêª‚Äç‚ùÑÔ∏è","üê®"];function eu(){const[t,s]=a.useState(Zl),[n,r]=a.useState([]),i=c=>{r(l=>[...l,c])},o=c=>{s(l=>[...l,c])};return a.useEffect(()=>{s(c=>c.filter(l=>!n.includes(l)))},[n]),a.useEffect(()=>{r(c=>c.filter(l=>!t.includes(l)))},[t]),e.jsxs(j,{title:"Beware of infinite loops",subtitle:"Side effects, useEffect",children:[e.jsx(_n,{emojis:t,onClick:i}),e.jsx(_n,{emojis:n,onClick:o})]})}function tu({emojis:t,delay:s,fontSize:n}){const[r,i]=a.useState(0);return a.useEffect(()=>{const o=setInterval(()=>{i(c=>{const l=c+1;return l>=t.length?0:l})},s);return()=>{clearInterval(o)}},[s,t.length]),e.jsx("div",{style:{fontSize:n},children:t[r]})}const su=500,nu=100;function Xt({emojis:t}){const[s,n]=a.useState(su),r=i=>{const o=i.target.value||"0",c=Math.max(parseInt(o),nu);n(c)};return e.jsxs(S,{children:[e.jsx(tu,{emojis:t,delay:s,fontSize:64}),e.jsx("input",{type:"number",value:s,onChange:r})]})}const ru=["üåï","üåñ","üåó","üåò","üåë","üåí","üåì","üåî"],iu=["üåé","üåç","üåè"],ou=["üïê","üïë","üïí","üïì","üïî","üïï","üïñ","üïó","üïò","üïô","üïö","üïõ"];function cu(){return e.jsxs(j,{title:"useEffect + setInterval",subtitle:"Side effects, useEffect",children:[e.jsx(Xt,{emojis:ru}),e.jsx(Xt,{emojis:iu}),e.jsx(Xt,{emojis:ou})]})}function Os({value:t,delta:s,increase:n,decrease:r}){return e.jsxs(S,{children:[e.jsx(se,{value:t,minWidth:"100px"}),n&&e.jsx(p,{onClick:n,text:`+${s}`}),r&&e.jsx(p,{onClick:r,text:`-${s}`})]})}const bn=1;function au(){const{value:t,increase:s,decrease:n}=st(0,bn);return a.useEffect(()=>(k("useEffect","component did mount"),()=>{k("useEffect","component will unmount")}),[]),a.useEffect(()=>{k("one more effect","component did mount")},[]),a.useEffect(()=>{k("effect with no deps","executed AFTER each render")}),k("Render","render function was called by React"),e.jsxs(j,{title:"Component lifecycle",subtitle:"useEffect basics",children:[e.jsx(Os,{value:t,delta:bn,increase:s,decrease:n}),e.jsx(R,{docs:[{label:"useEffect Hook Reference",href:"https://react.dev/reference/react/useEffect"}]})]})}const Tn=1;function lu(){const{value:t,increase:s,decrease:n}=st(0,Tn),[r,i]=a.useState("Count:");return a.useEffect(()=>(k("Effect",`running effect ${t}`),()=>{k("Effect",`cleaning up ${t}`)}),[t]),a.useEffect(function(){document.title=`${r} ${t}`},[r,t]),e.jsxs(j,{title:"Effect dependencies",subtitle:"useEffect basics",children:[e.jsx(Os,{value:t,delta:Tn,increase:s,decrease:n}),e.jsx(S,{children:e.jsx("input",{value:r,onChange:o=>i(o.target.value)})}),e.jsx(R,{docs:[{label:"useEffect Hook Reference",href:"https://react.dev/reference/react/useEffect"}]})]})}const Qt=1,Rn="chapter-6-current-count";function uu(){const[t,s]=a.useState(null),n=()=>s(i=>(i||0)+Qt),r=()=>s(i=>(i||0)-Qt);return a.useEffect(function(){try{const o=localStorage.getItem(Rn)??"0";k("Read",o),s(parseInt(o))}catch(o){console.error("could not read from a local storage"),console.error(o)}},[]),a.useEffect(function(){if(t!==null)try{const o=String(t);k("Write",o),localStorage.setItem(Rn,o)}catch(o){console.error("could not write to local storage"),console.error(o)}},[t]),k("Render",String(t)),e.jsxs(j,{title:"Local storage sync",subtitle:"useEffect basics",children:[e.jsx(Os,{value:t||0,delta:Qt,increase:n,decrease:r}),e.jsx(R,{docs:[{label:"useEffect Hook Reference",href:"https://react.dev/reference/react/useEffect"}]})]})}const du="_windowSize_1c0a1_1",hu="_widthText_1c0a1_7",xu="_heightText_1c0a1_14",Zt={windowSize:du,widthText:hu,heightText:xu};function es(t){const{innerWidth:s,innerHeight:n}=window;return{width:t,height:t*n/s}}function fu({previewWidth:t}){const[s,n]=a.useState(()=>es(t));if(a.useEffect(()=>{n(es(t));const l=()=>{n(es(t))};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[t]),!s)return null;const{width:r,height:i}=s,{innerWidth:o,innerHeight:c}=window;return e.jsxs("div",{className:Zt.windowSize,style:{width:r,height:i},children:[e.jsxs("div",{className:Zt.widthText,style:{width:r},children:[o,"px"]}),e.jsxs("div",{className:Zt.heightText,style:{height:i},children:[c,"px"]})]})}const Nn=10,kn=100,In=300;function mu(){const[t,s]=a.useState((In+kn)/2);return a.useEffect(()=>{const n=r=>{switch(r.key){case"ArrowLeft":s(i=>Math.max(i-Nn,kn));break;case"ArrowRight":s(i=>Math.min(i+Nn,In));break}};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[]),e.jsxs(j,{title:"Listening to global events",subtitle:"Side effects, useEffect",children:[e.jsx(W,{type:"info",children:"Use ‚¨ÖÔ∏è ‚û°Ô∏è to change the preview window size."}),e.jsx(fu,{previewWidth:t})]})}function wn({x:t,y:s},n,r){return{position:"absolute",left:t,top:s,width:r,height:r,borderRadius:r/2,backgroundColor:n,transform:"translate(-50%, -50%)"}}function ju(t){return{position:"absolute",left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:t,height:t,borderRadius:t/2,backgroundColor:"#EEEEEE44",pointerEvents:"none",zIndex:-1}}function pu(t,s){const n=[];for(let r=0;r<t;r++)n.push(e.jsx("div",{style:ju(s)},r));return n}const xt="container-div",Eu=5e3,gu=10,vu=10,Su=20,yu={position:"relative",height:"100%",width:"100%"};function Rr({blueDot:t,pinkDot:s,onClick:n}){return e.jsxs("div",{id:xt,style:yu,onClick:n,children:[pu(Eu,gu),e.jsx("div",{style:wn(t,"#5599ff88",vu)}),e.jsx("div",{style:wn(s,"#ff559988",Su)})]})}const Ve={x:0,y:0};function Cu(){const[t,s]=a.useState(Ve),[n,r]=a.useState(Ve),[i,o]=a.useState(Ve),c=l=>{const{pageX:u,pageY:h,target:v}=l,m=v,{left:E,top:g}=m.getBoundingClientRect();s({x:u-E,y:h-g}),r({x:u,y:h})};return a.useEffect(()=>{const l=document.getElementById(xt);if(!l){console.log(`Cannot find div with id ${xt}`);return}const{left:u,top:h}=l.getBoundingClientRect();o({x:n.x-u,y:n.y-h})},[n]),e.jsx(j,{title:"Effects sequence",subtitle:"useEffect vs useLayoutEffect",children:e.jsx(Rr,{blueDot:t,pinkDot:i,onClick:c})})}function _u(){const[t,s]=a.useState(Ve),[n,r]=a.useState(Ve),[i,o]=a.useState(Ve),c=l=>{const{pageX:u,pageY:h,target:v}=l,m=v,{left:E,top:g}=m.getBoundingClientRect();s({x:u-E,y:h-g}),r({x:u,y:h})};return a.useLayoutEffect(()=>{const l=document.getElementById(xt);if(!l){console.log(`Cannot find div with id ${xt}`);return}const{left:u,top:h}=l.getBoundingClientRect();o({x:n.x-u,y:n.y-h})},[n]),e.jsx(j,{title:"Batching effects with useLayoutEffect",subtitle:"useEffect vs useLayoutEffect",children:e.jsx(Rr,{blueDot:t,pinkDot:i,onClick:c})})}const bu=[0,0];function Tu(t,s){const[n,r]=a.useState(bu);return a.useEffect(()=>{const i=o=>{const c=ht(t,s);switch(o.key){case"ArrowLeft":r(([l,u])=>[Math.max(l-c,0),u]);break;case"ArrowRight":r(([l,u])=>[l+c,u]);break;case"ArrowUp":r(([l,u])=>[l,Math.max(u-c,0)]);break;case"ArrowDown":r(([l,u])=>[l,u+c]);break}};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[t,s]),n}function Ru(){const[t,s]=Tu(Nu,ku),n=Iu(t,s),r=F();return e.jsxs(j,{title:"You don't need useEffect",subtitle:"Side effects, useEffect",children:[e.jsx(S,{children:e.jsx(p,{text:"Click me to re-render the component",onClick:r})}),e.jsx(W,{type:"info",children:"Use ‚¨ÖÔ∏è ‚¨ÜÔ∏è ‚û°Ô∏è ‚¨áÔ∏è to move the ball."}),e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{style:n,children:"‚öΩÔ∏è"})})]})}const Nu=20,ku=100;function Iu(t,s){return{position:"absolute",fontSize:64,transition:"all 0.5s ease-in-out",transform:`rotate(${Math.random()*360}deg)`,left:t,top:s}}function wu(){return e.jsxs(O,{title:"Side effects, useEffect",children:[e.jsxs(O,{title:"useEffect basics",children:[e.jsx(f,{emoji:"üîÇ",title:"Component lifecycle",path:x.COMPONENT_LIFECYCLE_EFFECTS,element:e.jsx(au,{})}),e.jsx(f,{emoji:"‚õì",title:"Effect dependencies",path:x.EFFECTS_DEPENDENCIES,element:e.jsx(lu,{})}),e.jsx(f,{emoji:"üì•",title:"Local storage sync",path:x.LOCAL_STORAGE_SYNC,element:e.jsx(uu,{})})]}),e.jsx(f,{emoji:"üîî",title:"Global event listeners",path:x.GLOBAL_EVENT_LISTENERS,element:e.jsx(mu,{})}),e.jsx(f,{emoji:"‚è±",title:"useEffect + setInterval",path:x.USE_EFFECT_SET_INTERVAL,element:e.jsx(cu,{})}),e.jsx(f,{emoji:"üåê",title:"Fetch data in useEffect",path:x.FETCH_DATA_USE_EFFECT,element:e.jsx(ql,{})}),e.jsx(f,{emoji:"üîÉ",title:"Beware of infinite loops",path:x.BEWARE_OF_INFINITE_LOOPS,element:e.jsx(eu,{})}),e.jsx(f,{emoji:"üíæ",title:"You don't need useEffect",path:x.NO_NEED_TO_USE_EFFECT,element:e.jsx(Ru,{})}),e.jsxs(O,{title:"useLayoutEffect",children:[e.jsx(f,{emoji:"ü™¢",title:"Effects sequence",path:x.EFFECTS_SEQUENCE,element:e.jsx(Cu,{})}),e.jsx(f,{emoji:"üì®",title:"Batching effects",path:x.BATCHING_EFFECTS,element:e.jsx(_u,{})})]})]})}function Au(){const[t,s]=a.useState(""),n=a.useRef(null),r=u=>{s(u.target.value)},i=()=>{s("")},o=()=>{s(u=>u.toUpperCase())},c=()=>{s(u=>rr(u))},l=()=>{var u;(u=n.current)==null||u.focus()};return e.jsxs(j,{title:"Controlled input",subtitle:"Controlled vs uncontrolled",children:[e.jsx(W,{type:"success",children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:"‚úÖ State is managed by React (Virutal DOM side)"})}),e.jsx(S,{children:e.jsx("input",{ref:n,type:"text",value:t,onChange:r})}),e.jsxs(S,{children:[e.jsx(p,{text:"Clear",onClick:i}),e.jsx(p,{text:"To upper case",onClick:o}),e.jsx(p,{text:"Capitalize",onClick:c}),e.jsx(p,{text:"Focus",onClick:l})]}),e.jsxs(S,{children:["Current value: ",e.jsx("strong",{children:t})]}),e.jsx(R,{docs:[{label:"Manipulating the DOM with Refs",href:"https://react.dev/learn/manipulating-the-dom-with-refs"}]})]})}function Ou(){const[t,s]=a.useState(""),n=a.useRef(null),r=u=>{s(u.target.value)},i=()=>{n.current&&(n.current.value="")},o=()=>{n.current&&(n.current.value=n.current.value.toUpperCase())},c=()=>{n.current&&(n.current.value=rr(n.current.value))},l=()=>{var u;(u=n.current)==null||u.focus()};return e.jsxs(j,{title:"Uncontrolled input",subtitle:"Controlled vs uncontrolled",children:[e.jsx(W,{type:"warning",style:{display:"flex",alignItems:"center",gap:8},children:"‚ö†Ô∏è State is managed by real DOM"}),e.jsx(S,{children:e.jsx("input",{ref:n,type:"text",defaultValue:"default text",onChange:r})}),e.jsxs(S,{children:[e.jsx(p,{text:"Clear",onClick:i}),e.jsx(p,{text:"To upper case",onClick:o}),e.jsx(p,{text:"Capitalize",onClick:c}),e.jsx(p,{text:"Focus",onClick:l})]}),e.jsxs(S,{children:["Current value: ",e.jsx("strong",{children:t})]}),e.jsx(R,{docs:[{label:"Manipulating the DOM with Refs",href:"https://react.dev/learn/manipulating-the-dom-with-refs"}]})]})}function An(t,s,n){return t.map((r,i)=>i===s?n:r)}const Du="_pinInput_glffh_1",Lu={pinInput:Du},Uu=(t,s)=>{const{digits:n,onChange:r}=t,i=a.useRef(new Array(n.length));a.useImperativeHandle(s,()=>({focus:()=>{var l;(l=i.current[0])==null||l.focus()}}));const o=(l,u)=>{var E,g;const h=n[l],v=u.trim().replace(h,"");if(v<"0"||v>"9")return;r(An(n,l,v));const m=i.current;l<m.length-1?(E=m[l+1])==null||E.focus():(g=m[l])==null||g.blur()},c=(l,u)=>{var h;u==="Backspace"&&(n[l]?r(An(n,l,"")):l>0&&((h=i.current[l-1])==null||h.focus()))};return e.jsx(e.Fragment,{children:n.map((l,u)=>e.jsx("input",{className:Lu.pinInput,value:l,onChange:h=>o(u,h.target.value),onKeyDown:h=>c(u,h.nativeEvent.key),ref:h=>{i.current[u]=h},autoComplete:"nope"},u))})},Mu=a.forwardRef(Uu),On=["","","",""];function Fu(){const[t,s]=a.useState(On),n=a.useRef(null),r=()=>{var o;(o=n.current)==null||o.focus()},i=()=>{s(On)};return e.jsxs(j,{title:"useImperativeHandle",subtitle:"PinInput component",children:[e.jsx(S,{children:e.jsx(Mu,{ref:n,digits:t,onChange:s})}),e.jsxs(S,{children:[e.jsx(p,{text:"Focus",onClick:r}),e.jsx(p,{text:"Clear",onClick:i})]}),e.jsx(R,{docs:[{label:"useImperativeHandle",href:"https://react.dev/reference/react/useImperativeHandle"}]})]})}function Nr({value:t}){return e.jsx("span",{style:{fontSize:64},children:t})}function $u({value:t,isSelected:s,onClick:n}){const r={opacity:s?1:.5,textShadow:s?"2px 2px #e1ccff":"",cursor:"default"};return e.jsx("span",{style:r,onClick:()=>n(t),children:e.jsx(Nr,{value:t})})}const Pu=["‚úä","‚úåÔ∏è","‚úã"];function Hu({currentValue:t,onChange:s}){return e.jsx(e.Fragment,{children:Pu.map(n=>e.jsx($u,{value:n,isSelected:n===t,onClick:()=>s(n)},n))})}function Bu(){const[t,s]=a.useState("‚úä");return e.jsxs(j,{title:"Rock Scissors Paper",children:[e.jsx(S,{children:e.jsx(Hu,{currentValue:t,onChange:s})}),e.jsxs(S,{children:["Current value: ",e.jsx(Nr,{value:t})]})]})}function Vu(t){const s=a.useRef(t),n=r=>{s.current=r(s.current)};return[s.current,n]}function zu(t,s){const n=a.useRef(!0),r=a.useRef(t);a.useEffect(()=>{r.current=t},[t]),a.useEffect(()=>{var i;n.current?n.current=!1:(i=r.current)==null||i.call(r)},s)}function Gu(){const{value:t,increase:s}=st(),[n,r]=Vu(0);ie("Main"),zu(()=>{k("useUpdateEffect",`value: ${t}`)},[t]);const i=()=>{r(o=>o+1),k("useRefState","increase ref state")};return e.jsxs(j,{title:"Storing state in useRef",subtitle:"useUpdateEffect",children:[e.jsx("div",{children:"useState clicks:"}),e.jsxs(S,{children:[e.jsx(se,{value:t,minWidth:"100px"}),e.jsx(p,{text:"+1",onClick:s})]}),e.jsx("div",{children:"useRefState clicks:"}),e.jsxs(S,{children:[e.jsx(se,{value:n,minWidth:"100px"}),e.jsx(p,{text:"+1",onClick:i})]}),e.jsx(R,{docs:[{label:"useRef Hook Reference",href:"https://react.dev/reference/react/useRef"}]})]})}function Wu(){return e.jsxs(O,{title:"Imperative code, useRef",children:[e.jsxs(O,{title:"Controlled vs uncontrolled",children:[e.jsx(f,{emoji:"üü¢",title:"Controlled input",path:x.CONTROLLED_INPUT,element:e.jsx(Au,{})}),e.jsx(f,{emoji:"üî¥",title:"Uncontrolled input",path:x.UNCONTROLLED_INPUT,element:e.jsx(Ou,{})})]}),e.jsx(f,{emoji:"‚úä",title:"Rock scissors paper",path:x.ROCK_SCISSORS_PAPER,element:e.jsx(Bu,{})}),e.jsx(f,{emoji:"üì¶",title:"Storing state in useRef",path:x.STORING_STATE_IN_USEREF,element:e.jsx(Gu,{})}),e.jsx(f,{emoji:"üëâüèº",title:"useImperativeHandle",path:x.USE_IMPERATIVE_HANDLE,element:e.jsx(Fu,{})})]})}const kr=[{id:M(),emoji:"üóæ"},{id:M(),emoji:"üéë"},{id:M(),emoji:"üèû"},{id:M(),emoji:"üåÖ"},{id:M(),emoji:"üåÑ"},{id:M(),emoji:"üå†"},{id:M(),emoji:"üéá"},{id:M(),emoji:"üéÜ"},{id:M(),emoji:"üåá"},{id:M(),emoji:"üåÜ"},{id:M(),emoji:"üèô"},{id:M(),emoji:"üåÉ"},{id:M(),emoji:"üåå"},{id:M(),emoji:"üåâ"},{id:M(),emoji:"üåÅ"}],Ku="_gallery_jm7kl_1",Yu={gallery:Ku},Ju="_item_ohgql_1",qu="_selected_ohgql_14",Dn={item:Ju,selected:qu};function Xu({item:t,selected:s,onClick:n}){const{emoji:r}=t,i=G(Dn.item,s&&Dn.selected);return ie(r),e.jsx("div",{className:i,onClick:()=>n(t),children:r})}const Qu=a.memo(Xu);function Zu({items:t}){const[s,n]=a.useState("");ie("Gallery");const r=a.useCallback(i=>{n(i.id),k(i.emoji,"Selected")},[]);return e.jsx("div",{className:Yu.gallery,children:t.map(i=>e.jsx(Qu,{item:i,selected:i.id===s,onClick:r},i.id))})}function ed(){const t=F();return e.jsxs(j,{title:"useCallback",subtitle:"List with memoization",rerender:t,children:[e.jsx(Zu,{items:kr}),e.jsx(R,{docs:[{label:"useCallback",href:"https://react.dev/reference/react/useCallback"},{label:"useMemo",href:"https://react.dev/reference/react/useMemo"},{label:"Skipping Re-rendering with memo",href:"https://react.dev/reference/react/memo"}]})]})}const td="_gallery_jm7kl_1",sd={gallery:td},nd="_item_ohgql_1",rd="_selected_ohgql_14",Ln={item:nd,selected:rd};function id({item:t,selected:s,onClick:n}){const{emoji:r}=t,i=G(Ln.item,s&&Ln.selected);return ie(r),e.jsx("div",{className:i,onClick:()=>n(t),children:r})}function od({items:t}){const[s,n]=a.useState("");ie("Gallery");const r=i=>{n(i.id),k(i.emoji,"Selected")};return e.jsx("div",{className:sd.gallery,children:t.map(i=>e.jsx(id,{item:i,selected:i.id===s,onClick:r},i.id))})}function cd(){const t=F();return e.jsx(j,{title:"useCallback",subtitle:"List without memoization",rerender:t,children:e.jsx(od,{items:kr})})}function ad({visible:t}){const[s,n]=a.useState(null),r=s?`${s.width.toFixed(0)} x ${s.height.toFixed(0)}`:null,i=a.useCallback(o=>{k("memoized callback",String(o)),o&&n(o.getBoundingClientRect())},[]);return t?e.jsx("div",{ref:i,style:{flex:1,textAlign:"center"},children:e.jsx(D,{children:r})}):e.jsx(e.Fragment,{})}function ld({visible:t}){const[s,n]=a.useState(null),[r,i]=a.useState(null),c=s!==null&&r!==null?`${s.toFixed(0)} x ${r.toFixed(0)}`:null,l=u=>{if(k("ref callback",String(u)),u){const{width:h,height:v}=u.getBoundingClientRect();n(h),i(v)}};return t?e.jsx("div",{ref:l,style:{flex:1,textAlign:"center"},children:e.jsx(D,{children:c})}):e.jsx(e.Fragment,{})}function Un({visible:t}){const s=a.useRef(null),[n,r]=a.useState(null);if(a.useEffect(()=>{k("useRef",String(s.current)),s.current&&r(s.current.getBoundingClientRect())},[]),!t)return e.jsx(e.Fragment,{});const i=n?`${n.width.toFixed(0)} x ${n.height.toFixed(0)}`:null;return e.jsx("div",{ref:s,style:{flex:1,textAlign:"center"},children:e.jsx(D,{children:i})})}function ud(){const t=F(),[s,n]=a.useState(()=>Un),[r,i]=ke(!0),o=(c,l)=>e.jsx(p,{text:c,onClick:()=>n(()=>l),disabled:s===l});return e.jsxs(j,{title:"Memoized ref callback",subtitle:"Memoization",rerender:t,children:[e.jsx("h3",{children:"Choose block component"}),e.jsxs(S,{children:[o("useRef",Un),o("Ref callback",ld),o("Memoized ref callback",ad)]}),e.jsxs("h3",{children:["Toggle ",e.jsx("code",{children:"<div />"})," rendering"]}),e.jsx(S,{children:e.jsx(p,{text:r?"Hide div":"Show div",onClick:i})}),e.jsxs(Mt,{children:[e.jsx(s,{visible:r}),e.jsx(s,{visible:r})]}),e.jsx(Mt,{children:e.jsx(s,{visible:r})}),e.jsxs(Mt,{children:[e.jsx(s,{visible:r}),e.jsx(s,{visible:r}),e.jsx(s,{visible:r})]})]})}const Ds={flex:1,display:"flex",flexDirection:"column",gap:10};function Ir({path:t,onClick:s}){const n={...Ds,justifyContent:"center",alignItems:"center"};return e.jsx(D,{style:n,onClick:s,children:t.join(", ")})}const ys=a.memo(({level:t,maxLevel:s,path:n})=>{const r=F(),i=a.useMemo(()=>[...n,"left"],[n]),o=a.useMemo(()=>[...n,"right"],[n]),c=l=>{l.stopPropagation(),r()};return t===s?e.jsx(Ir,{path:n,onClick:c}):e.jsxs(D,{style:Ds,onClick:c,children:[e.jsx(ys,{level:t+1,maxLevel:s,path:i}),e.jsx(ys,{level:t+1,maxLevel:s,path:o})]})}),dd=["root"];function hd(){const t=F();return e.jsxs(j,{title:"useMemo",subtitle:"React.memo + useMemo",rerender:t,children:[e.jsx(ys,{level:0,maxLevel:2,path:dd}),e.jsx(R,{docs:[{label:"useMemo Hook Reference",href:"https://react.dev/reference/react/useMemo"},{label:"Skipping Re-rendering with memo",href:"https://react.dev/reference/react/memo"}]})]})}function Cs({level:t,maxLevel:s,path:n}){const r=F(),i=o=>{o.stopPropagation(),r()};return t===s?e.jsx(Ir,{path:n,onClick:i}):e.jsxs(D,{style:Ds,onClick:i,children:[e.jsx(Cs,{level:t+1,maxLevel:s,path:[...n,"left"]}),e.jsx(Cs,{level:t+1,maxLevel:s,path:[...n,"right"]})]})}function xd(){const t=F();return e.jsx(j,{title:"useMemo",subtitle:"When React render components?",rerender:t,children:e.jsx(Cs,{level:0,maxLevel:2,path:["root"]})})}function fd(t){const s=a.useRef(!0);a.useEffect(()=>{s.current?s.current=!1:t()},[t])}function md(){const{value:t,increase:s}=st();return ie("Parent"),a.useEffect(()=>{k("useEffect","effect with empty deps list")},[]),fd(a.useCallback(()=>{k("updateEffect",`value === ${t}`)},[t])),e.jsx(j,{title:"useCallback",subtitle:"useUpdateEffect",children:e.jsxs(S,{children:[e.jsx(se,{value:t,minWidth:"100px"}),e.jsx(p,{text:"+1",onClick:s})]})})}function jd(){return e.jsxs(O,{title:"Memoization",children:[e.jsxs(O,{title:"useCallback",children:[e.jsx(f,{emoji:"üåâ",title:"List without memoization",path:x.LIST_WITHOUT_MEMOIZATION,element:e.jsx(cd,{})}),e.jsx(f,{emoji:"üåÅ",title:"List with memoization",path:x.LIST_WITH_MEMOIZATION,element:e.jsx(ed,{})}),e.jsx(f,{emoji:"üì¨",title:"useUpdateEffect",path:x.USE_UPDATE_EFFECT,element:e.jsx(md,{})})]}),e.jsxs(O,{title:"useMemo",children:[e.jsx(f,{emoji:"üìΩ",title:"When React render components?",path:x.WHEN_REACT_RENDERS,element:e.jsx(xd,{})}),e.jsx(f,{emoji:"üíæ",title:"useMemo",path:x.USE_MEMO,element:e.jsx(hd,{})})]}),e.jsx(f,{emoji:"üìè",title:"Memoized ref callback",path:x.MEMOIZED_REF_CALLBACK,element:e.jsx(ud,{})})]})}const pd=["0Ô∏è‚É£","1Ô∏è‚É£","2Ô∏è‚É£","3Ô∏è‚É£","4Ô∏è‚É£","5Ô∏è‚É£","6Ô∏è‚É£","7Ô∏è‚É£","8Ô∏è‚É£","9Ô∏è‚É£"];function Ed(t){return t.toFixed(0).split("").map(s=>pd[parseInt(s)]).join("")}function Mn({children:t}){const s=a.Children.toArray(t);return e.jsx(e.Fragment,{children:s.map((n,r)=>e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("div",{style:{marginRight:10},children:Ed(r+1)}),n]},r))})}function Fn({children:t}){return e.jsx(D,{children:t})}function gd(){return e.jsx(j,{title:"Function or component?",subtitle:"Components lifecycle",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs(W,{type:"info",children:["üîç Open"," ",e.jsx(Ns,{href:"https://chromewebstore.google.com/detail/fmkadmapgofadopljbjfkapdkoienihi?utm_source=item-share-cb",children:"React Dev Tools"})," ","and you'll see the difference between these two messages."]}),e.jsx(Fn,{children:e.jsxs(Mn,{children:[e.jsx("div",{children:"I'm the first message"}),e.jsx("div",{children:"I'm a React component"}),e.jsx("div",{children:"I'm rendered via React.createElement() call"}),e.jsx("div",{children:"React stores instance of me in memory"}),e.jsxs("div",{children:["You can find me in ",e.jsx("strong",{children:"‚öõÔ∏è Components"})," tab in your dev tools"]})]})}),Fn({children:e.jsxs(Mn,{children:[e.jsx("div",{children:"I'm the second message"}),e.jsx("div",{children:"I'm NOT a React component"}),e.jsx("div",{children:"I was called as a regular JS function"}),e.jsx("div",{children:"I'm just a bunch of React elements and I belong to parent component"}),e.jsxs("div",{children:["I'm absent in ",e.jsx("strong",{children:"‚öõÔ∏è Components"})," tab"]})]})})]})})}function vd(){const[t,s]=ke(!0),n=e.jsx(Ze,{tag:"ü¶î",children:e.jsx(Qe,{emoji:"ü¶î",onClick:s})},"ü¶î");return e.jsxs(j,{title:"Components structure",subtitle:"Key property",children:[e.jsxs(W,{type:"info",children:[e.jsxs("div",{children:["‚ÑπÔ∏è ",e.jsx("code",{children:"key"})," property only makes sense in the scope of a single parent."]}),e.jsx("div",{children:"‚ÑπÔ∏è Changes in a components tree will cause mounts and unmounts."})]}),e.jsx("h3",{children:t?"Click the hedgehog!":"Nicely done! Now do it again."}),e.jsx(S,{children:t?n:e.jsx("div",{style:{transform:"scaleX(-1)"},children:n})})]})}function Sd(t){const s=new Array(t);for(let n=0;n<t;n++)s[n]={id:M(),value:n+1};return s}const yd="_twoColumns_1vyub_1",Cd="_columnTitle_1vyub_6",_d="_list_1vyub_11",ut={twoColumns:yd,columnTitle:Cd,list:_d},bd=a.memo(({item:t,onClick:s})=>e.jsx(Xo,{children:e.jsx(D,{onClick:()=>s(t),children:t.value})}));function $n({generateItems:t,getKey:s}){const[n,r]=a.useState(t),i=a.useCallback(o=>{r(c=>c.filter(l=>l.id!==o.id))},[]);return e.jsx("div",{className:ut.list,children:n.map((o,c)=>e.jsx(bd,{item:o,onClick:i},s(o,c)))})}function Td(){const t=()=>Sd(10),s=(r,i)=>i,n=(r,i)=>r.id;return e.jsxs(j,{title:"Keys & lists",subtitle:"Key property",children:[e.jsxs(W,{type:"warning",children:[e.jsxs("div",{children:["‚ö†Ô∏è DO NOT use ",e.jsx("code",{children:"index"})," property as React ",e.jsx("code",{children:"key"})," if the order of items will be changed."]}),e.jsx("div",{children:"üöÆ Click on the list item to remove it. Note how many items were re-rendered."})]}),e.jsxs("div",{className:ut.twoColumns,children:[e.jsx("code",{className:ut.columnTitle,children:"key === index"}),e.jsx("code",{className:ut.columnTitle,children:"key === uniqueId"})]}),e.jsxs("div",{className:ut.twoColumns,children:[e.jsx($n,{generateItems:t,getKey:s}),e.jsx($n,{generateItems:t,getKey:n})]}),e.jsx(R,{docs:[{label:"Keeping list items in order with key",href:"https://react.dev/learn/rendering-lists#keeping-list-items-in-order-with-key"}]})]})}function Rd(){const t=F(),s=a.useRef(0);return s.current=s.current+1,e.jsxs(j,{title:"Re-mount component",subtitle:"Key property",rerender:t,children:[e.jsxs(W,{type:"info",children:[e.jsx("div",{children:"‚ÑπÔ∏è You can force a component to unmount and mount again (aka re-mount)."}),e.jsxs("div",{children:["‚ÑπÔ∏è Simply change the ",e.jsx("code",{children:"key"})," value, and React will create a new component instance."]}),e.jsx("div",{children:"‚ùóÔ∏è Note that usually you don't need to do that. It's a hack. But it could be usefull in rare cases."})]}),e.jsx(Ze,{tag:"Random key",children:e.jsx(D,{children:"My key is changing every render."})},s.current),e.jsx(R,{docs:[{label:"Resetting state with a key",href:"https://react.dev/reference/react/useState#resetting-state-with-a-key"}]})]})}const Pn=a.memo(({tag:t,renderContent:s})=>(ie(t),s())),Hn=a.memo(({tag:t,text:s})=>(ie(t),e.jsx("div",{children:s}))),bt=a.memo(Ze);function Nd(){const t=F(),s=a.useMemo(()=>e.jsx(Hn,{tag:"4. useMemoText",text:"4. Text wrapped with useMemo"}),[]),n=()=>e.jsx(Ze,{tag:"5. Render func",children:"5. Text rendered with render function"}),r=a.useCallback(()=>e.jsx(Ze,{tag:"6. useCallback(render func)",children:"6. Text rendered with memoized render function"}),[]);return e.jsxs(j,{title:"Memoization",subtitle:"Components lifecycle",rerender:t,children:[e.jsxs(W,{type:"info",children:[e.jsx("div",{children:"‚ÑπÔ∏è Each of these lines was rendered in a different way."}),e.jsx("div",{children:"‚ÑπÔ∏è You can achieve similar results in so many different ways with React."})]}),e.jsxs(D,{children:[e.jsx(bt,{tag:"1. Static text parent",children:"1. Just a static text here."}),e.jsx(bt,{tag:"2. Span parent",children:e.jsxs("div",{children:["2. ",e.jsx("strong",{children:"<span>"}),"Also text, but inside span",e.jsx("strong",{children:"</span>"})]})}),e.jsx(bt,{tag:"3. MemoText parent",children:e.jsx(Hn,{tag:"3. MemoText",text:"3. Memoized text component"})}),e.jsx(bt,{tag:"4. useMemoText parent",children:s}),e.jsx(Pn,{tag:"5. MemoRenderFunc",renderContent:n}),e.jsx("br",{}),e.jsx(Pn,{tag:"6. MemoRenderFunc",renderContent:r}),e.jsx("br",{})]})]})}function kd({tag:t}){return e.jsx(Ze,{tag:t,children:e.jsx(D,{style:{fontSize:48},children:t})})}function wr(t){const s=Math.round(Math.random()*(t.length-1));return t[s]}function Id({children:t}){ie("Container");const s=a.Children.toArray(t),n=wr(s);return e.jsx(e.Fragment,{children:n})}const wd=["üèç","‚úàÔ∏è","üöÄ","üèé"];function Ad(){const t=F();return e.jsxs(j,{title:"Random container",subtitle:"Components lifecycle",rerender:t,children:[e.jsxs(W,{type:"info",children:[e.jsx("div",{children:"‚ÑπÔ∏è If you pass a child component to some custom container component, there is no guarantee it'll be rendered."}),e.jsx("div",{children:"‚ÑπÔ∏è It fully depends on the rendering logic of container component."})]}),e.jsx(Id,{children:wd.map(s=>e.jsx(kd,{tag:s},s))})]})}function Od(){return e.jsxs(O,{title:"Components lifecycle",children:[e.jsxs(O,{title:"Key property",children:[e.jsx(f,{emoji:"üîë",title:"Keys and lists",path:x.KEYS_AND_LISTS,element:e.jsx(Td,{})}),e.jsx(f,{emoji:"üîë",title:"Re-mount component",path:x.KEYS_REMOUNT_COMPONENT,element:e.jsx(Rd,{})}),e.jsx(f,{emoji:"üîë",title:"Components structure",path:x.KEYS_COMPONENTS_STRUCTURE,element:e.jsx(vd,{})})]}),e.jsx(f,{emoji:"üé≤",title:"Random rendering",path:x.RANDOM_RENDERING,element:e.jsx(Ad,{})}),e.jsx(f,{emoji:"üîÑ",title:"Lifecycle and memoization",path:x.LIFECYCLE_AMD_MEMOIZATION,element:e.jsx(Nd,{})}),e.jsx(f,{emoji:"üî¨",title:"Function or component?",element:e.jsx(gd,{}),path:x.FUNCTION_OR_COMPONENT})]})}var ae=(t=>(t.INCREMENT="INCREMENT",t.DOUBLE="DOUBLE",t.POWER_2="POWER_2",t.RESET="RESET",t))(ae||{});const Ar=0;function Dd(t,s){switch(s){case ae.INCREMENT:return t+1;case ae.DOUBLE:return t*2;case ae.POWER_2:return t*t;case ae.RESET:return Ar;default:throw new Error(`Action ${s} was not recognized`)}}function Ld(){const[t,s]=a.useReducer(Dd,Ar);return e.jsxs(j,{title:"useReducer",subtitle:"Simple counter example",children:[e.jsx(S,{children:e.jsx(se,{value:t})}),e.jsxs(S,{children:[e.jsx(p,{text:"+ 1",onClick:()=>s(ae.INCREMENT)}),e.jsx(p,{text:"* 2",onClick:()=>s(ae.DOUBLE)}),e.jsx(p,{text:"^ 2",onClick:()=>s(ae.POWER_2)}),e.jsx(p,{text:"Reset",onClick:()=>s(ae.RESET)})]}),e.jsx(R,{docs:[{label:"useReducer Hook Reference",href:"https://react.dev/reference/react/useReducer"},{label:"Extracting State Logic into a Reducer",href:"https://react.dev/learn/extracting-state-logic-into-a-reducer"},{label:"Choosing the State Structure",href:"https://react.dev/learn/choosing-the-state-structure"}]})]})}function Ud(t,s){const n=[];for(let r=0;r<t;r++){const i=new Array(s);for(let o=1;o<=s;o++)i[o-1]=Math.pow(r,o);n.push(i)}return n}function Oe(t){return t[0]}var le=(t=>(t.SORT_ASC="SORT_ASC",t.SORT_DESC="SORT_DESC",t.SHUFFLE="SHUFFLE",t.REMOVE_ROW="REMOVE_ROW",t))(le||{});function Md(t,s){switch(s.type){case le.SORT_ASC:return Fd(t);case le.SORT_DESC:return $d(t);case le.SHUFFLE:return Pd(t);case le.REMOVE_ROW:return Hd(t,s.rowId);default:throw new Error(`Unknown action: ${JSON.stringify(s)}`)}}function Fd(t){const s=[...t];return s.sort((n,r)=>Oe(n)-Oe(r)),s}function $d(t){const s=[...t];return s.sort((n,r)=>Oe(r)-Oe(n)),s}function Pd(t){const s=[...t];return s.sort(()=>Math.random()>.5?1:-1),s}function Hd(t,s){return t.filter(n=>Oe(n)!==s)}function Bd({maxPower:t}){const s=[];for(let n=1;n<=t;n++)s.push(e.jsxs("th",{style:{minWidth:100},children:["^",n]},n));return e.jsx("tr",{children:s})}function Vd({rowId:t,array:s,onClick:n}){const r=()=>{n(t)};return e.jsx("tr",{onClick:r,children:s.map((i,o)=>e.jsx("td",{children:i},o))})}function zd({maxPower:t,data:s,dispatch:n}){const r=i=>{n({type:le.REMOVE_ROW,rowId:i})};return e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx(Bd,{maxPower:t})}),e.jsx("tbody",{children:s.map(i=>e.jsx(Vd,{rowId:Oe(i),array:i,onClick:r},Oe(i)))})]})}function ts({text:t,actionType:s,dispatch:n}){return e.jsx(p,{text:t,onClick:()=>n({type:s})})}function Gd({dispatch:t}){return e.jsxs(S,{children:[e.jsx(ts,{text:"‚¨ÜÔ∏è Sort",actionType:le.SORT_ASC,dispatch:t}),e.jsx(ts,{text:"‚¨áÔ∏è Sort",actionType:le.SORT_DESC,dispatch:t}),e.jsx(ts,{text:"üîÄ Shuffle",actionType:le.SHUFFLE,dispatch:t})]})}const Wd=30,Bn=5;function Kd(){const[t,s]=a.useReducer(Md,null,()=>Ud(Wd,Bn));return e.jsxs(j,{title:"useReducer",subtitle:"Lazy initialization (version 2)",children:[e.jsx(Gd,{dispatch:s}),e.jsx(zd,{maxPower:Bn,data:t,dispatch:s})]})}const Yd="_emoji_1myom_1",Jd={emoji:Yd};function ss(t){const{emojiOn:s,emojiOff:n,value:r,toggle:i}=t;return e.jsx("div",{className:Jd.emoji,onClick:()=>i(),children:r?s:n})}function qd(){const[t,s]=ke(!0),[n,r]=ke(!0),[i,o]=ke(!1);return e.jsx(j,{title:"useReducer",subtitle:"useToggle",children:e.jsxs(S,{children:[e.jsx(ss,{emojiOn:"üòä",emojiOff:"üò¢",value:t,toggle:s}),e.jsx(ss,{emojiOn:"üëç",emojiOff:"üëé",value:n,toggle:r}),e.jsx(ss,{emojiOn:"üåû",emojiOff:"üåö",value:i,toggle:o})]})})}function Xd(){return{}}function Qd(){const[,t]=a.useReducer(Xd,null);return t}function Zd(){const t=Qd();return e.jsx(j,{title:"useReducer",subtitle:"useRerender hook version 2",rerender:t,children:e.jsx(D,{onClick:t,children:"Click me to trigger re-render"})})}const Or=a.createContext(null),eh="Hello from FirstContextProvider";function th({children:t}){return e.jsx(Or.Provider,{value:eh,children:t})}function sh(){const t=a.useContext(Or);if(t===null)throw new Error("useFirstContext must be used within a FirstContextProvider");return t}function nh(){return e.jsxs(j,{title:"Intro to Context",subtitle:"Dependency injection with React.Context",children:[e.jsx(th,{children:e.jsx(rh,{})}),e.jsx(R,{docs:[{label:"useContext Hook Reference",href:"https://react.dev/reference/react/useContext"},{label:"Passing Data Deeply with Context",href:"https://react.dev/learn/passing-data-deeply-with-context"},{label:"Scaling Up with Reducer and Context",href:"https://react.dev/learn/scaling-up-with-reducer-and-context"},{label:"createContext API Reference",href:"https://react.dev/reference/react/createContext"}]})]})}function rh(){return e.jsx(ih,{})}function ih(){return e.jsx(oh,{})}function oh(){return e.jsx(ch,{})}function ch(){const t=sh();return e.jsx("h1",{children:t})}const ah="_node_beymq_1",lh="_line_beymq_19",uh="_children_beymq_27",ns={node:ah,line:lh,children:uh},Dr=a.createContext(void 0);function Pe({color:t,children:s}){return e.jsx(Dr.Provider,{value:t,children:s})}const dh=De(Dr,Pe);function V({children:t}){var n;const s=dh();return e.jsxs("div",{className:ns.node,style:{backgroundColor:s},children:[(n=a.Children.toArray(t))==null?void 0:n.map((r,i,o)=>{const c=100/o.length,l=c*i+c/2;return e.jsx("div",{className:ns.line,style:{left:`${l}%`}},i)}),t&&e.jsx("div",{className:ns.children,children:t})]})}const hh="_content_cftub_1",xh={content:hh};function fh(){return e.jsxs(j,{title:"Nested Contexts",subtitle:"Nesting several context providers for the same context",contentClassName:xh.content,children:[e.jsx("div",{children:e.jsx(Pe,{color:"#97bbf5",children:e.jsxs(V,{children:[e.jsx(V,{children:e.jsx(Pe,{color:"#d4ee40",children:e.jsx(V,{children:e.jsx(V,{})})})}),e.jsx(Pe,{color:"#47d07b",children:e.jsxs(V,{children:[e.jsx(V,{}),e.jsx(Pe,{color:"#ffff00",children:e.jsx(V,{})})]})}),e.jsxs(V,{children:[e.jsx(V,{}),e.jsx(V,{}),e.jsx(V,{children:e.jsxs(Pe,{color:"#f466f9",children:[e.jsx(V,{}),e.jsx(V,{}),e.jsx(V,{})]})})]})]})})}),e.jsx(R,{docs:[{label:"useContext Hook Reference",href:"https://react.dev/reference/react/useContext"},{label:"Passing Data Deeply with Context",href:"https://react.dev/learn/passing-data-deeply-with-context"},{label:"Scaling Up with Reducer and Context",href:"https://react.dev/learn/scaling-up-with-reducer-and-context"},{label:"createContext API Reference",href:"https://react.dev/reference/react/createContext"}]})]})}function mh(){const t=pe();return{primaryColor:t,secondaryColor:t+"33"}}function jh(t){const s=[];for(let n=0;n<t;n++)s.push(mh());return s}const Lr=a.createContext(void 0),Ur=De(Lr,Mr);function Ls(){const[{themes:t,themeIndex:s}]=Ur();return t[s]}function ph(){return{themes:jh(15),themeIndex:0}}function Mr({children:t}){const[s,n]=a.useState(ph),r=i=>{n(o=>({...o,themeIndex:i}))};return e.jsx(Lr.Provider,{value:[s,r],children:t})}function Eh(t,s,n){const{primaryColor:r,secondaryColor:i}=t,o=s?i:r;return{backgroundColor:s?r:i,border:`1px solid ${o}`,color:o,textShadow:"1px 1px white",padding:"10px 20px",fontWeight:600,opacity:n?.4:1}}function Vn(t){const{text:s,onClick:n,disabled:r=!1}=t,[i,o]=a.useState(!1),c=Ls(),l=()=>o(!0),u=()=>o(!1);return e.jsx("button",{style:Eh(c,i,r),disabled:r,onClick:n,onMouseDown:l,onMouseUp:u,onMouseLeave:u,children:s})}function zn(t,s){return{width:t,height:t,backgroundColor:s}}function gh({theme:t,selected:s,onSelect:n}){const{primaryColor:r,secondaryColor:i}=t,o=s?50:40;return e.jsxs("div",{style:{display:"flex",flexDirection:"column"},onClick:()=>n(t),children:[e.jsx("div",{style:zn(o,r)}),e.jsx("div",{style:zn(o,i)})]})}function vh(){const[t,s]=Ur(),{themes:n,themeIndex:r}=t;return e.jsx(S,{children:n.map((i,o)=>e.jsx(gh,{theme:i,selected:o===r,onSelect:()=>s(o)},o))})}function Sh(t){const[s,n]=a.useState(null);return a.useEffect(()=>{fetch(`https://jsonplaceholder.typicode.com/users/${t}`).then(r=>r.json()).then(r=>n(r))},[t]),s}const Fr=a.createContext(void 0),$r=De(Fr,Pr);function Pr({userId:t,children:s}){const n=Sh(t);return e.jsx(Fr.Provider,{value:n,children:s})}function yh(){const t=$r(),s=t==null?void 0:t.username,{primaryColor:n,secondaryColor:r}=Ls(),i=`https://cataas.com/cat?${s}`,o={width:128,height:128,objectFit:"cover",border:`1px solid ${n}`,boxShadow:`3px 3px 0px 0px ${r}`};return e.jsx("img",{src:i,alt:"User avatar",style:o})}function Ch(){const t=$r(),{primaryColor:s}=Ls();return e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx(yh,{}),e.jsx("div",{style:{color:s},children:e.jsx(ge,{title:"User Profile",data:t})})]})}function _h(){return e.jsxs(j,{title:"Multiple Contexts",subtitle:"Using few different contexts",children:[e.jsxs(Mr,{children:[e.jsx(vh,{}),e.jsxs(S,{children:[e.jsx(Vn,{text:"Primary Button"}),e.jsx(Vn,{text:"Disabled Button",disabled:!0})]}),e.jsx(Pr,{userId:1,children:e.jsx(Ch,{})})]}),e.jsx(R,{docs:[{label:"useContext Hook Reference",href:"https://react.dev/reference/react/useContext"},{label:"Passing Data Deeply with Context",href:"https://react.dev/learn/passing-data-deeply-with-context"},{label:"Scaling Up with Reducer and Context",href:"https://react.dev/learn/scaling-up-with-reducer-and-context"},{label:"createContext API Reference",href:"https://react.dev/reference/react/createContext"}]})]})}const Hr={contacts:[{id:et(),name:"Tiger",phone:"555-123-123"},{id:et(),name:"Sam",phone:"555-123-123"}],selectedId:null};var Q=(t=>(t.ADD="ADD",t.SELECT="SELECT",t.EDIT="EDIT",t.REMOVE="REMOVE",t.ROLLBACK="ROLLBACK",t))(Q||{});function bh(t,s){switch(s.type){case Q.ADD:return Th(t);case Q.SELECT:return kh(t,s.contactId);case Q.EDIT:return Rh(t,s.contact);case Q.REMOVE:return Nh(t,s.idToRemove);case Q.ROLLBACK:return Hr;default:throw new Error(`Unknown action: ${JSON.stringify(s)}`)}}function Th(t){const s={id:et(),name:"name",phone:"phone"};return{...t,contacts:[...t.contacts,s]}}function Rh(t,s){const n=[...t.contacts],r=n.findIndex(i=>i.id===s.id);return n[r]=s,{...t,contacts:n}}function Nh(t,s){return{...t,contacts:t.contacts.filter(n=>n.id!==s),selectedId:s===t.selectedId?null:t.selectedId}}function kh(t,s){return{...t,selectedId:s}}const Br=a.createContext(void 0),Us=De(Br,Vr);function Vr({children:t}){const s=a.useReducer(bh,Hr);return e.jsx(Br.Provider,{value:s,children:t})}const Ih="_fieldsWrapper_16o0v_1",wh="_field_16o0v_1",Ah="_emoji_16o0v_11",Oh="_avatar_16o0v_16",$e={fieldsWrapper:Ih,field:wh,emoji:Ah,avatar:Oh};function Dh(t){return{padding:10,display:"flex",flexDirection:"row",gap:16,border:t?"2px solid #cccccc":"2px dotted #cccccc",boxShadow:t?"3px 3px 0px 0px #eadff9":""}}function Lh({contact:t}){const{name:s,phone:n}=t,r=`https://cataas.com/cat?${s}`,[i,o]=Us(),{selectedId:c}=i,l=t.id===c,[u,h]=a.useState(!1),[v,m]=a.useState(!1),E=()=>{o({type:Q.SELECT,contactId:t.id})},g=()=>h(!0),C=()=>h(!1),_=ee=>{o({type:Q.EDIT,contact:{...t,name:ee.target.value}})},b=()=>m(!0),L=()=>m(!1),Z=ee=>{o({type:Q.EDIT,contact:{...t,phone:ee.target.value}})};return e.jsxs("div",{style:Dh(l),onClick:E,children:[e.jsx("img",{src:r,className:$e.avatar,alt:"Contact avatar"}),e.jsxs("div",{className:$e.fieldsWrapper,children:[e.jsxs("div",{className:$e.field,children:[e.jsx("span",{className:$e.emoji,onClick:g,children:"üê±"}),u?e.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:_,onBlur:C}):e.jsx("span",{onClick:g,children:s})]}),e.jsxs("div",{className:$e.field,children:[e.jsx("span",{className:$e.emoji,onClick:b,children:"‚òéÔ∏è"}),v?e.jsx("input",{autoFocus:!0,type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",value:n,onChange:Z,onBlur:L}):e.jsx("span",{onClick:b,children:n})]})]})]})}const Uh="_list_199eh_1",Mh={list:Uh};function Fh(){const[t]=Us(),{contacts:s}=t;return e.jsx("div",{className:Mh.list,children:s.map(n=>e.jsx(Lh,{contact:n},n.id))})}function $h(){const[t,s]=Us(),{selectedId:n}=t,r=()=>{s({type:Q.ADD})},i=()=>{if(n)s({type:Q.REMOVE,idToRemove:n});else throw new Error("No contact selected")},o=()=>{s({type:Q.ROLLBACK})};return e.jsxs(S,{children:[e.jsx(p,{text:"Add",onClick:r}),n&&e.jsx(p,{text:"Remove",onClick:i}),e.jsx(p,{text:"Rollback changes",onClick:o})]})}function Ph(){return e.jsx(j,{title:"Contact book",subtitle:"useContext + useReducer",children:e.jsxs(Vr,{children:[e.jsx($h,{}),e.jsx(Fh,{})]})})}var re=(t=>(t.EMPTY="",t.SNAKE="s",t.SNAKE_HEAD="üê≤",t))(re||{}),A=(t=>(t.UP="up",t.RIGHT="right",t.DOWN="down",t.LEFT="left",t))(A||{}),H=(t=>(t.PLAY="play",t.PAUSE="pause",t.FINISH="finish",t.PLAY_AGAIN="play_again",t.MOVE="move",t.SPAWN_VEGETABLE="spawn_vegetable",t.SET_DIRECTION="set_direction",t))(H||{}),B=(t=>(t.IDLE="idle",t.PLAYING="playing",t.PAUSED="paused",t.FINISHED="finished",t))(B||{});function zr(t,s,n,r,i){let o=t,c=s;switch(i){case A.LEFT:c=s>0?s-1:r-1;break;case A.RIGHT:c=s<r-1?s+1:0;break;case A.DOWN:o=t<n-1?t+1:0;break;case A.UP:o=t>0?t-1:n-1;break}return[o,c]}function Ms(t,s,n,r){const i=new Array;for(let u=0;u<t;u++)i.push(new Array(s).fill(""));for(const u of r)i[u.row][u.col]=u.character;let o=n;for(;o;){const{row:u,col:h}=o;i[u][h]=re.SNAKE,o=o.next}const{row:c,col:l}=n;return i[c][l]=re.SNAKE_HEAD,i}function Hh(t,s){return t===s?null:t.row===s.row?t.col===s.col?null:t.col>s.col?A.LEFT:A.RIGHT:t.row>s.row?A.UP:A.DOWN}function Bh(t){let s=t;for(;s.next;)s=s.next;return s}const He=10,Gn={row:Math.floor(He/2),col:Math.floor(He/2)},Gr={gameStatus:B.IDLE,points:0,direction:A.UP,rows:He,cols:He,vegetables:[],snakeHead:Gn,grid:Ms(He,He,Gn,[])},Tt=500,Vh=3*Tt,zh=5,Gh=100,Wh="vegan-dragon-high-score",Kh=["üçè","üçé","üçê","üçä","üçã","üçå","üçâ","üçá","üçì","üçà","üçí","üçë","ü•≠","üçç","ü••","ü•ù","üçÖ","üçÜ","ü•ë","ü•¶","ü•¨","ü•í","üå∂","üåΩ","ü•ï","üßÑ","üßÖ","ü•î","üç†"];function Rt(t,s){return{...t,gameStatus:s}}function Yh(t){const{rows:s,cols:n,snakeHead:r,grid:i,direction:o}=t,{row:c,col:l}=r,[u,h]=zr(c,l,s,n,o);return i[u][h]===re.SNAKE?null:Wr(r,u,h)}function Wr(t,s,n){return{row:s,col:n,next:t.next&&Wr(t.next,t.row,t.col)}}function Jh(t,s,n){const{rows:r,cols:i,vegetables:o}=t;let c=0,l=n,u=n;for(;l;){const{row:m,col:E}=l,g=o.findIndex(C=>C.row===m&&C.col===E);g!==-1&&(c++,o.splice(g,1)),u=l,l=l.next}if(c===0)return 0;const h=Bh(s);u.next={row:h.row,col:h.col},u=u.next;const v=Hh(u,h);if(v)for(let m=1;m<c;m++){const[E,g]=zr(u.row,u.col,r,i,v);u.next={row:E,col:g},u=u.next}return c}function qh(t){const{rows:s,cols:n,vegetables:r,points:i,snakeHead:o}=t,c=Yh(t);if(!c)return Rt(t,B.FINISHED);const l=Jh(t,o,c);return{...t,snakeHead:c,grid:Ms(s,n,c,r),points:i+Gh*l}}function Xh(){return{...Gr,gameStatus:B.PLAYING}}function Qh(t,s){const{direction:n}=t;return s===Zh(n)?t:{...t,direction:s}}function Zh(t){switch(t){case A.DOWN:return A.UP;case A.LEFT:return A.RIGHT;case A.UP:return A.DOWN;case A.RIGHT:return A.LEFT;default:throw new Error(`Unknown direction ${t}`)}}function Wn(t,s){return Math.round(ht(t,s))}function ex(t){const{rows:s,cols:n,snakeHead:r,vegetables:i}=t,o={row:Wn(0,s-1),col:Wn(0,n-1),character:wr(Kh)};return{...t,vegetables:[...i,o],grid:Ms(s,n,r,i)}}function tx(t,s){switch(s.type){case H.PLAY:return Rt(t,B.PLAYING);case H.PAUSE:return Rt(t,B.PAUSED);case H.FINISH:return Rt(t,B.FINISHED);case H.PLAY_AGAIN:return Xh();case H.MOVE:return qh(t);case H.SPAWN_VEGETABLE:return ex(t);case H.SET_DIRECTION:return Qh(t,s.direction);default:throw new Error(`Unknown action ${JSON.stringify(s)}`)}}const Kr=a.createContext(void 0),Dt=De(Kr,Yr);function Yr({children:t}){const s=a.useReducer(tx,Gr);return e.jsx(Kr.Provider,{value:s,children:t})}const Jr=a.createContext(void 0),Fs=De(Jr,qr);function qr({children:t}){const[s,n]=a.useState(!1),[r,i]=a.useState(Tt),c={useAlternativeGrid:s,setUseAlternativeGrid:n,moveDelay:r,changeMoveDelay:()=>{i(l=>l===Vh?Tt:l+Tt)}};return e.jsx(Jr.Provider,{value:c,children:t})}function sx(t){const s=a.useRef(t);a.useEffect(()=>{s.current=t},[t]),a.useEffect(()=>{const n=r=>{s.current(r.key)};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[])}function nx(){const[t,s]=Dt(),n=t.gameStatus===B.PLAYING,r=i=>{s({type:H.SET_DIRECTION,direction:i})};sx(i=>{if(n)switch(i){case"ArrowUp":r(A.UP);break;case"ArrowRight":r(A.RIGHT);break;case"ArrowDown":r(A.DOWN);break;case"ArrowLeft":r(A.LEFT);break}})}function Kn(t,s){const[n,r]=Dt(),o=n.gameStatus===B.PLAYING?s:null;tt(()=>r({type:t}),o)}function rx(){const{moveDelay:t}=Fs();return nx(),Kn(H.MOVE,t),Kn(H.SPAWN_VEGETABLE,t*zh),null}function ix(t,s){const[n,r]=a.useState(()=>{try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):s}catch(o){return console.error(o),s}}),i=a.useCallback(o=>{try{window.localStorage.setItem(t,JSON.stringify(o)),r(o)}catch(c){console.error(c)}},[t]);return[n,i]}function ox({direction:t}){const s=cx(t);return e.jsx("span",{children:s.repeat(3)})}function cx(t){switch(t){case A.UP:return"üëÜ";case A.RIGHT:return"üëâ";case A.DOWN:return"üëá";case A.LEFT:return"üëà";default:throw new Error(`Unknown direction ${t}`)}}const ax="_root_1msna_1",lx="_score_1msna_14",ux="_buttons_1msna_20",rs={root:ax,score:lx,buttons:ux},dx="_root_o98wx_1",hx="_body_o98wx_13",xx="_title_o98wx_19",fx="_message_o98wx_25",mx="_buttons_o98wx_31",at={root:dx,body:hx,title:xx,message:fx,buttons:mx};function jx({title:t,message:s,buttons:n}){return e.jsx("div",{className:at.root,children:e.jsxs("div",{className:at.body,children:[e.jsx("div",{className:at.title,children:t}),e.jsx("div",{className:at.message,children:s}),e.jsx("div",{className:at.buttons,children:Object.entries(n).map(([r,i])=>e.jsx(p,{text:r,onClick:i},r))})]})})}function px({points:t,prevHighScore:s,onPlayAgain:n}){const r=e.jsxs(e.Fragment,{children:["You scored ",e.jsx("b",{children:t})," points!",t>s?e.jsx("p",{children:e.jsx("b",{children:"This is a new high score!"})}):e.jsxs("p",{children:["High score: ",s]})]});return e.jsx(jx,{title:"Game Over",message:r,buttons:{"Play Again":n}})}function Ex(t){const s=gx(t);return e.jsxs("span",{children:[s," pts"]})}function gx({value:t,delay:s,step:n}){const[r,i]=a.useState(t);return tt(()=>{i(c=>Math.min(c+n,t))},r!==t?s:null),r}function vx(){const[t,s]=Dt(),{gameStatus:n,points:r,direction:i}=t,[o,c]=ix(Wh,0),[l,u]=a.useState(o);return a.useEffect(()=>{n===B.FINISHED&&(u(o),c(Math.max(o,r)))},[n]),n===B.FINISHED?e.jsx(px,{points:r,prevHighScore:l,onPlayAgain:()=>s({type:H.PLAY_AGAIN})}):e.jsxs("div",{className:rs.root,children:[e.jsx("div",{className:rs.score,children:n!==B.IDLE&&e.jsxs(e.Fragment,{children:[e.jsx(Ex,{value:r,delay:100,step:15}),e.jsx("br",{}),e.jsx(ox,{direction:i})]})}),e.jsxs("div",{className:rs.buttons,children:[n===B.IDLE&&e.jsx(p,{text:"Start",onClick:()=>s({type:H.PLAY})}),n===B.PLAYING&&e.jsx(p,{text:"Pause",onClick:()=>s({type:H.PAUSE})}),n===B.PAUSED&&e.jsx(p,{text:"Resume",onClick:()=>s({type:H.PLAY})})]})]})}function Xr(t){const s=t.length,n=t[0].length;return[s,n]}const Sx="_gridContainer_i9apd_1",yx={gridContainer:Sx};function Cx(t){return{textAlign:"center",width:"30px",height:"30px",backgroundColor:t===re.SNAKE||t===re.SNAKE_HEAD?"#2B27":t?"#FF8":"inherit"}}const _x=a.memo(({content:t})=>{const s=Cx(t),n=t===re.SNAKE?"":t;return e.jsx("td",{style:s,children:n})});function bx(t){const[s,n]=Xr(t),r=new Array(s);for(let i=0;i<s;i++){const o=new Array(n);for(let c=0;c<n;c++)o[c]=e.jsx(_x,{content:t[i][c]},`[${i}, ${c}]`);r[i]=e.jsx("tr",{children:o},`row_${i}`)}return r}function Tx({grid:t}){return e.jsx("div",{className:yx.gridContainer,children:e.jsx("table",{children:e.jsx("tbody",{children:bx(t)})})})}function Rx(t,s,n){return{width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2em",gridRow:t,gridColumn:s,backgroundColor:n?"#2B27":"#FFF",border:`1px solid ${n?"#2B2":"#DDD"}`}}const Nx=a.memo(({row:t,col:s,content:n})=>{const r=n===re.SNAKE||n===re.SNAKE_HEAD,i=Rx(t,s,r);return e.jsx("div",{style:i,children:n===re.SNAKE?"":n})}),kx="_gridContainer_1qoxx_1",Ix="_grid_1qoxx_1",Yn={gridContainer:kx,grid:Ix};function wx(t){const[s,n]=Xr(t),r=[];for(let i=0;i<s;i++)for(let o=0;o<n;o++)r.push(e.jsx(Nx,{row:i+1,col:o+1,content:t[i][o]},`[${i}, ${o}]`));return r}function Ax({grid:t}){return e.jsx("div",{className:Yn.gridContainer,children:e.jsx("div",{className:Yn.grid,children:wx(t)})})}function Ox(){const[{grid:t}]=Dt(),{useAlternativeGrid:s}=Fs(),n=s?Tx:Ax;return e.jsx(n,{grid:t})}const Dx="_root_1rxka_1",Lx="_gridContainer_1rxka_8",Jn={root:Dx,gridContainer:Lx};function Ux(){const{setUseAlternativeGrid:t,moveDelay:s,changeMoveDelay:n}=Fs(),r=(s/1e3).toFixed(1),i=()=>{t(o=>!o)};return e.jsxs(S,{children:[e.jsx(p,{text:"Switch grid",onClick:i}),e.jsx(p,{text:`Move delay: ${r}s`,onClick:n})]})}function Mx(){return e.jsx(j,{title:"Vegan Dragon",subtitle:"useContext + useReducer",children:e.jsx("div",{className:Jn.root,children:e.jsxs(qr,{children:[e.jsx(Ux,{}),e.jsx("div",{className:Jn.gridContainer,children:e.jsxs(Yr,{children:[e.jsx(rx,{}),e.jsx(Ox,{}),e.jsx(vx,{})]})})]})})})}function Fx(){return e.jsxs(O,{title:"Context and reducer",children:[e.jsxs(O,{title:"useReducer",children:[e.jsx(f,{emoji:"üßÆ",title:"Counter reducer",path:x.COUNTER_REDUCER,element:e.jsx(Ld,{})}),e.jsx(f,{emoji:"ü¶•",title:"Lazy init 2",path:x.REDUCER_LAZY_INIT,element:e.jsx(Kd,{})}),e.jsx(f,{emoji:"‚úÖ",title:"Toggle reducer",path:x.TOGGLE_REDUCER,element:e.jsx(qd,{})}),e.jsx(f,{emoji:"üîÑ",title:"Rerender reducer",path:x.RERENDER_REDUCER,element:e.jsx(Zd,{})})]}),e.jsxs(O,{title:"Context",children:[e.jsx(f,{emoji:"üîù",title:"Intro to Context",path:x.INTRO_TO_CONTEXT,element:e.jsx(nh,{})}),e.jsx(f,{emoji:"üóÉÔ∏è",title:"Nested Contexts",path:x.NESTED_CONTEXTS,element:e.jsx(fh,{})}),e.jsx(f,{emoji:"üé®",title:"Multiple Contexts",path:x.MULTIPLE_CONTEXTS,element:e.jsx(_h,{})})]}),e.jsxs(O,{title:"useContext && useReducer",children:[e.jsx(f,{emoji:"üìí",title:"Contact book",path:x.CONTACT_BOOK,element:e.jsx(Ph,{})}),e.jsx(f,{emoji:"üê≤",title:"Vegan Dragon",path:x.VEGAN_DRAGON,element:e.jsx(Mx,{})})]})]})}const $x=a.lazy(()=>Ee(()=>import("./index-Bx9pieK7.js"),__vite__mapDeps([6,1,7,8,9]))),Px=a.lazy(()=>Ee(()=>import("./index-Ct_nvuTB.js"),__vite__mapDeps([10,1,11,8,12,9]))),Hx=a.lazy(()=>Ee(()=>import("./index-DtVCKthY.js"),__vite__mapDeps([13,1,7,8,11,12,9])));function Bx(){return e.jsxs(O,{title:"State management",children:[e.jsx(f,{emoji:"üóÉÔ∏è",title:"Rematch / Redux",path:x.STATE_REMATCH,element:e.jsx($x,{})}),e.jsx(f,{emoji:"üóÉÔ∏è",title:"Zustand",path:x.STATE_ZUSTAND,element:e.jsx(Px,{})}),e.jsx(f,{emoji:"üóÉÔ∏è",title:"Jotai",path:x.STATE_JOTAI,element:e.jsx(Hx,{})})]})}function Vx(t){const[s,n]=a.useState(null),[r,i]=a.useState(!0),[o,c]=a.useState(null);return a.useEffect(()=>{let l=!0;return i(!0),fetch(t).then(u=>{if(!u.ok)throw new Error(`Status code ${u.status}`);return u.json()}).then(u=>{l&&(n(u),c(null))}).catch(u=>{l&&(n(null),c(u))}).finally(()=>{l&&i(!1)}),()=>{l=!1}},[t]),{data:s,isLoading:r,error:o}}function zx(){const[t,s]=a.useState("1"),n=`https://jsonplaceholder.typicode.com/posts/${t}`,{data:r,isLoading:i,error:o}=Vx(n),c=l=>{s(l.target.value)};return e.jsxs(j,{title:"useEffect + fetch API",subtitle:"Data fetching, useFetch hook",children:[e.jsxs(S,{children:["Post ID ",e.jsx("input",{type:"number",value:t,onChange:c})]}),i?e.jsx("div",{style:{position:"relative",height:200},children:e.jsx(wt,{})}):o?e.jsxs("div",{style:{color:"red"},children:[e.jsx("strong",{children:"Error: "}),o instanceof Error?o.message:"Unknown error"]}):e.jsx(ge,{title:`/posts/${t}`,data:r}),e.jsx(R,{docs:[{label:"fetch API",href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API"},{label:"Fetching data with effects",href:"https://react.dev/reference/react/useEffect#fetching-data-with-effects"},{label:"JSON to TypeScript",href:"https://transform.tools/json-to-typescript"}]})]})}const Gx=a.lazy(()=>Ee(()=>import("./index-Dn5lSFH-.js"),__vite__mapDeps([14,1,15,16,2,17]))),Wx=a.lazy(()=>Ee(()=>import("./index-uUWXVZ-q.js"),__vite__mapDeps([18,1,15,16,19])));function Kx(){return e.jsxs(O,{title:"Data fecthing",children:[e.jsx(f,{emoji:"üì°",title:"useEffect + fetch API",path:x.DATA_FETCHING_USE_EFFECT,element:e.jsx(zx,{})}),e.jsx(f,{emoji:"üì°",title:"TanStack Query / React Query",path:x.REACT_QUERY,element:e.jsx(Gx,{})}),e.jsx(f,{emoji:"üì°",title:"SWR",path:x.SWR,element:e.jsx(Wx,{})})]})}function Yx(){return e.jsxs(j,{title:"Link vs NavLink",subtitle:"Routing",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Route"}),e.jsx("th",{children:"Link"}),e.jsx("th",{children:"NavLink"}),e.jsx("th",{children:"Options"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/about"})}),e.jsx("td",{children:e.jsx(Ue,{to:"/about",children:"About"})}),e.jsx("td",{children:e.jsx(ue,{to:"/about",children:"About"})}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("code",{children:["../",x.USE_NAVIGATE]})}),e.jsx("td",{children:e.jsx(Ue,{to:`../${x.USE_NAVIGATE}`,children:"Next chapter"})}),e.jsx("td",{children:e.jsx(ue,{to:`../${x.USE_NAVIGATE}`,children:"Next chapter"})}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"."})}),e.jsx("td",{children:e.jsx(Ue,{to:".",children:"Current page"})}),e.jsx("td",{children:e.jsx(ue,{to:".",children:"Current page"})}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"."})}),e.jsx("td",{children:e.jsx(Ue,{to:".",children:"Current page"})}),e.jsx("td",{children:e.jsx(Ie,{to:".",children:"Current page"})}),e.jsxs("td",{children:["with ",e.jsx("code",{children:"active"})," styles"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"."})}),e.jsx("td",{children:e.jsx(Ue,{to:".",reloadDocument:!0,children:"Reload page"})}),e.jsx("td",{children:e.jsx(Ie,{to:".",reloadDocument:!0,children:"Reload page"})}),e.jsx("td",{children:e.jsx("code",{children:"reloadDocument"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("code",{children:["../",x.USE_LOCATION]})}),e.jsx("td",{children:e.jsx(Ue,{to:`../${x.USE_LOCATION}`,replace:!0,children:"useLocation"})}),e.jsx("td",{children:e.jsx(Ie,{to:`../${x.USE_LOCATION}`,replace:!0,children:"useLocation"})}),e.jsx("td",{children:e.jsx("code",{children:"replace"})})]})]})]}),e.jsx(R,{docs:[{label:"Link",href:"https://reactrouter.com/api/components/Link"},{label:"NavLink",href:"https://reactrouter.com/api/components/NavLink"}]})]})}function Jx(){return e.jsxs(j,{title:"NavLink vs anchor",subtitle:"Routing",children:[e.jsx("p",{children:e.jsx("a",{href:`${gr}/${x.ABOUT}`,children:"about page (anchor tag)"})}),e.jsx("p",{children:e.jsx(Ie,{to:"/"+x.ABOUT,children:"about page (NavLink)"})}),e.jsx(R,{docs:[{label:"NavLink",href:"https://reactrouter.com/api/components/NavLink"}]})]})}const Qr="tabs",Nt=[{path:"todos",label:"‚úÖ Todos List",element:e.jsx("span",{children:"Todos Tab"})},{path:"users",label:"üë• Users",element:e.jsx("span",{children:"Users Tab"})},{path:"comments",label:"üí¨ Comments",element:e.jsx("span",{children:"Comments Tab"})}];function qx(){const[t,s]=Qx(),n=Nt.map(r=>r.label);return e.jsxs(j,{title:"Nested Routes",subtitle:"React Router",children:[e.jsx(Mo,{tabs:n,selectedIndex:t,onSelect:s}),e.jsx(D,{style:{marginTop:"1rem"},children:e.jsxs(sr,{children:[e.jsx(q,{index:!0,element:e.jsx("span",{children:"Select a tab"})}),e.jsx(q,{path:"*",element:e.jsx("span",{children:"Nested route not found"})}),e.jsx(q,{path:Qr,children:e.jsx(q,{element:e.jsx(Xx,{}),children:Nt.map(({path:r,element:i})=>e.jsx(q,{path:r,element:i},r))})})]})})]})}function Xx(){return e.jsx(D,{children:e.jsx(tr,{})})}function Qx(){const{pathname:t}=It(),s=kt();return[Nt.findIndex(i=>t.includes(i.path)),i=>{const o=x.NESTED_ROUTES.slice(0,-2),c=Nt[i].path;s(`/${o}/${Qr}/${c}`)}]}const is="0";function Zx(){const t=It(),s=kt(),{pathname:n,search:r,hash:i}=t,o=new URLSearchParams(r),c=o.get("a")||is,l=o.get("b")||is,u=(m,E)=>{const g=new URLSearchParams(r);g.set(m,E.trim()||is);const C=`${n}?${g}${i}`;s(C,{replace:!0})},h=m=>{u("a",m.target.value)},v=m=>{u("b",m.target.value)};return e.jsxs(j,{title:"useLocation",subtitle:"React Router",children:[e.jsxs("div",{className:"flexColumn",children:[e.jsx(ge,{title:"Location",data:t}),e.jsxs("section",{id:"inputs",children:[e.jsx("h2",{children:"Operands are synced with URL params"}),e.jsxs(S,{children:[e.jsx("input",{type:"number",value:c,style:{width:"50px"},onChange:h}),e.jsx("span",{children:"‚ûï"}),e.jsx("input",{type:"number",value:l,style:{width:"50px"},onChange:v}),e.jsx("span",{children:"üü∞"}),e.jsx("span",{children:(Number(c)+Number(l)).toString()})]})]}),e.jsxs("section",{id:"hashes",className:"flexRow",children:[e.jsx(ue,{to:"#inputs",children:"Inputs Section"}),e.jsx(ue,{to:"#hashes",children:"Hashes Section"}),e.jsx(ue,{to:"#",children:"Clear Hash"})]})]}),e.jsx(R,{docs:[{label:"useLocation",href:"https://reactrouter.com/api/hooks/useLocation"}]})]})}function ef(){const t=kt(),s=It(),[n,r]=a.useState(s.pathname),i=!n.trim();return e.jsxs(j,{title:"useNavigate",subtitle:"Programmatic Navigation",children:[e.jsxs(S,{children:[e.jsx(p,{text:"Go Back",onClick:()=>t(-1)}),e.jsx(p,{text:"Go Forward",onClick:()=>t(1)})]}),e.jsxs(S,{children:[e.jsx("input",{value:n,onChange:o=>r(o.target.value)}),e.jsx(p,{text:"Navigate",disabled:i,onClick:()=>t(n)}),e.jsx(p,{text:"Replace",disabled:i,onClick:()=>t(n,{replace:!0})})]}),e.jsx(R,{docs:[{label:"useNavigate",href:"https://reactrouter.com/api/hooks/useNavigate"}]})]})}function tf(){return e.jsxs(O,{title:"Routing",children:[e.jsx(f,{emoji:"‚öì",title:"NavLink vs anchor",path:x.NAVLINK_VS_ANCHOR,element:e.jsx(Jx,{})}),e.jsx(f,{emoji:"üîó",title:"Link vs NavLink",path:x.LINK_VS_NAVLINK,element:e.jsx(Yx,{})}),e.jsx(f,{emoji:"üß≠",title:"useNavigate",path:x.USE_NAVIGATE,element:e.jsx(ef,{})}),e.jsx(f,{emoji:"üìç",title:"useLocation",path:x.USE_LOCATION,element:e.jsx(Zx,{})}),e.jsx(f,{emoji:"üõ£Ô∏è",title:"Nested Routes",path:x.NESTED_ROUTES,element:e.jsx(qx,{})}),e.jsx(f,{emoji:"üõ§Ô∏è",title:"Dynamic Routes",path:x.DYNAMIC_ROUTES})]})}const sf="_linksSection_1vojy_1",nf={linksSection:sf};function rf(){return e.jsxs(No,{children:[e.jsx(Dc,{}),e.jsx(ca,{}),e.jsx(wu,{}),e.jsx(Wu,{}),e.jsx(jd,{}),e.jsx(Od,{}),e.jsx(Fx,{}),e.jsx(Bx,{}),e.jsx(Kx,{}),e.jsx(tf,{}),e.jsx(Ja,{}),e.jsx(Ll,{}),e.jsx(Kl,{}),e.jsxs("div",{className:nf.linksSection,children:[e.jsx(Ie,{to:x.ABOUT,children:"üìö –ü—Ä–æ —Ü–µ–π –∫—É—Ä—Å"}),e.jsx(Ns,{href:"https://a-polishchuk.github.io/mastering-react/",children:"‚öõÔ∏è Production –≤–µ—Ä—Å—ñ—è"})]})]})}ii.createRoot(document.getElementById("root")).render(e.jsx(rf,{}));export{Be as A,p as B,j as C,lf as D,Qe as E,bs as F,lr as G,wt as L,ge as P,Bi as Q,Pi as R,_s as S,S as T,tt as a,Gi as b,dt as c,Oi as d,so as e,Er as f,pe as g,cs as h,jf as i,Mo as j,hf as k,De as l,Ie as m,Ts as n,Ii as o,mf as p,uf as q,Mi as r,as as s,df as t,ke as u,Ai as v,ff as w,xf as x,ur as y,dr as z};
